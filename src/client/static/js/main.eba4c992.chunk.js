(this["webpackJsonpyarnpoint-react-client"]=this["webpackJsonpyarnpoint-react-client"]||[]).push([[0],{147:function(e,t,a){},148:function(e,t,a){},202:function(e,t,a){},288:function(e,t,a){},313:function(e,t,a){e.exports=a(598)},32:function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return n}));var n=function(){return"undefined"!==typeof window&&"object"===typeof window.process&&"renderer"===window.process.type||(!("undefined"===typeof e||"object"!==typeof e.versions||!e.versions.electron)||"object"===typeof navigator&&"string"===typeof navigator.userAgent&&navigator.userAgent.indexOf("Electron")>=0)}}).call(this,a(127))},321:function(e,t,a){},50:function(e,t,a){e.exports=a.p+"static/media/missing-file.20cda3d1.png"},548:function(e,t,a){},571:function(e,t,a){},572:function(e,t,a){},573:function(e,t,a){},594:function(e,t,a){},595:function(e,t,a){},596:function(e,t,a){},597:function(e,t,a){},598:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(9),i=a.n(o),l=a(30),s=a(20),c=a(108),u=a(296),d=a(46),p=Object(d.a)(),m=a(13),h=a(14),f=a(16),E=a(15),g=(a(321),a(44),a(7)),y=a(3),b=a.n(y),v=a(6),w=a(210),O=a.n(w),S=O.a.CancelToken,N=S.source(),k=O.a.create({baseURL:"http://"+window.location.hostname+":3077",withCredentials:!0,cancelToken:N.token}),C=a(120),j=a.n(C),x=function(e){return function(){var t=Object(v.a)(b.a.mark((function t(a){var n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"FETCH_NODES"}),t.next=4,k.get("/node/search",{params:{page:e.page,type:e.type,searchQuery:e.searchQuery,pinned:e.pinned}});case 4:n=t.sent,a({type:"FETCH_NODES_SUCCESS",payload:n.data,query:e}),t.next=13;break;case 8:t.prev=8,t.t0=t.catch(0),a({type:"FETCH_NODES_ERROR"}),a({type:"RESET_APP"}),p.push("/");case 13:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},_=function(e){return function(){var t=Object(v.a)(b.a.mark((function t(a){var n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"all"===e.type&&(e.type=null),t.prev=1,a({type:"SEARCH_NODES"}),t.next=5,k.get("/node/search",{params:{page:e.page,type:e.type,searchQuery:e.searchQuery,pinned:e.pinned}});case 5:n=t.sent,a({type:"SEARCH_NODES_SUCCESS",payload:n.data,query:e}),p.push("/"),t.next=16;break;case 10:t.prev=10,t.t0=t.catch(1),a({type:"SEARCH_NODES_ERROR"}),a({type:"RESET_APP"}),g.a.error("Could not search nodes",1),p.push("/");case 16:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()},A=function(e){return function(){var t=Object(v.a)(b.a.mark((function t(a){var n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:"UPDATE_NODE"}),t.prev=1,t.next=4,k.patch("/node",{uuid:e.uuid,hidden:e.hidden,searchable:e.searchable,name:e.name,preview:e.preview,path:e.path});case 4:n=t.sent,a({type:"UPDATE_NODE_SUCCESS",uuid:e.uuid,result:n.data.node}),!0===e.hidden&&a({type:"DELETE_NODE_SUCCESS",uuid:e.uuid}),t.next=15;break;case 9:t.prev=9,t.t0=t.catch(1),console.log(t.t0),a({type:"UPDATE_NODE_ERROR"}),g.a.error("There was a problem saving your changes",1),p.push("/");case 15:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},D=function(e,t){return function(){var t=Object(v.a)(b.a.mark((function t(a){var n,r;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:"CREATE_NODE"}),"text"===e.type&&((n=new j.a).insert(e.name),e.content=JSON.stringify(n)),t.prev=2,t.next=5,k.put("/node",{isFile:e.isFile,type:e.type,name:e.name,preview:e.preview,content:e.content,linkedNode:e.linkedNode});case 5:r=t.sent,a({type:"CREATE_NODE_SUCCESS",payload:r.data.node}),200===r.status&&"text"===e.type&&p.push("/edit/text/"+r.data.node.uuid),t.next=15;break;case 10:t.prev=10,t.t0=t.catch(2),a({type:"CREATE_NODE_ERROR"}),g.a.error("There was a problem creating that node",1),p.push("/");case 15:case"end":return t.stop()}}),t,null,[[2,10]])})));return function(e){return t.apply(this,arguments)}}()},T=function(e){return function(){var t=Object(v.a)(b.a.mark((function t(a){var n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("create url node"),a({type:"CREATE_NODE"}),t.prev=2,t.next=5,k.put("/url",{isFile:e.isFile,type:e.type,name:e.name,preview:e.preview,path:e.path,content:e.content,linkedNode:e.linkedNode});case 5:n=t.sent,a({type:"CREATE_NODE_SUCCESS",payload:n.data.node}),t.next=14;break;case 9:t.prev=9,t.t0=t.catch(2),a({type:"CREATE_NODE_ERROR"}),g.a.error("There was a problem adding that URL",1),p.push("/");case 14:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(e){return t.apply(this,arguments)}}()},I=function(e){return function(){var t=Object(v.a)(b.a.mark((function t(a){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:"MARK_NODE_VIEW"}),t.prev=1,t.next=4,k.patch("/node/viewed",{uuid:e.uuid});case 4:a({type:"MARK_NODE_VIEW_SUCCESS",node:e}),t.next=12;break;case 7:t.prev=7,t.t0=t.catch(1),a({type:"MARK_NODE_VIEW_ERROR"}),g.a.error("Could not mark node view",1),p.push("/");case 12:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e){return t.apply(this,arguments)}}()},R=function(e){return function(){var t=Object(v.a)(b.a.mark((function t(a){var n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:"SET_ACTIVE_NODE"}),t.prev=1,t.next=4,k.get("/node",{params:{uuid:e}});case 4:n=t.sent,a({type:"SET_ACTIVE_NODE_SUCCESS",payload:n.data}),t.next=13;break;case 8:t.prev=8,t.t0=t.catch(1),a({type:"SET_ACTIVE_NODE_ERROR"}),p.push("/"),g.a.error("Could not retrieve values",1);case 13:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()},F=function(){return{type:"CLEAR_ACTIVE_NODE"}},U=function(){return function(){var e=Object(v.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"SIGN_OUT"}),e.prev=1,e.next=4,k.get("/auth/signout");case 4:t({type:"RESET_APP"}),g.a.success("Signed Out",1),p.push("/"),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),t({type:"SIGN_OUT_ERROR"}),g.a.error("There was a problem signing out",1);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()},L=function(e){return function(){var t=Object(v.a)(b.a.mark((function t(a){var n,r;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:"FETCH_USER_NODE"}),t.prev=1,t.next=4,k.get("/user/username",{params:{username:e}});case 4:return n=t.sent,r=n.data.user,t.abrupt("return",r);case 9:t.prev=9,t.t0=t.catch(1),g.a.error("Could not fetch user",1);case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},P=function(e){return function(){var t=Object(v.a)(b.a.mark((function t(a){var n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.page||(a({type:"RESET_ASSOCIATION_LINK_LIST"}),e.page=1),a({type:"FETCH_ASSOCIATIONS_LINK_LIST"}),t.next=5,k.get("/association",{params:{nodeUUID:e.nodeUUID,page:e.page}});case 5:n=t.sent,a({type:"FETCH_ASSOCIATIONS_LINK_LIST_SUCCESS",payload:n.data,nodeUUID:e.nodeUUID,page:e.page}),t.next=14;break;case 9:t.prev=9,t.t0=t.catch(0),a({type:"FETCH_ASSOCIATIONS_LINK_LIST_ERROR"}),g.a.error("Could not fetch items",1),p.push("/");case 14:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},H=function(e){return function(){var t=Object(v.a)(b.a.mark((function t(a){var n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.page||(a({type:"RESET_ASSOCIATIONS"}),e.page=1),a({type:"FETCH_ASSOCIATIONS"}),t.next=5,k.get("/association",{params:{nodeUUID:e.nodeUUID,page:e.page}});case 5:n=t.sent,a({type:"FETCH_ASSOCIATIONS_SUCCESS",payload:n.data,nodeUUID:e.nodeUUID,page:e.page}),t.next=14;break;case 9:t.prev=9,t.t0=t.catch(0),a({type:"FETCH_ASSOCIATIONS_ERROR"}),g.a.error("Could not fetch items",1),p.push("/");case 14:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},M=function(e,t){return function(){var a=Object(v.a)(b.a.mark((function a(n){return b.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,k.put("/association/linkstrength",{nodeA:e,nodeB:t});case 3:a.next=8;break;case 5:a.prev=5,a.t0=a.catch(0),g.a.error("There was a problem with your request",1);case 8:case"end":return a.stop()}}),a,null,[[0,5]])})));return function(e){return a.apply(this,arguments)}}()},q=function(e,t){return{type:"SHOW_COMPONENT",payload:{type:e,content:t}}},V=function(e){return{type:"HIDE_COMPONENT",payload:{type:e}}},Y=function(){return function(){var e=Object(v.a)(b.a.mark((function e(t){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g.a.success("generating export!",2),e.prev=1,t({type:"GENERATE_EXPORT"}),e.next=5,k.put("/port/export/all");case 5:200===(a=e.sent).status&&(t({type:"GENERATE_EXPORT_SUCCESS",payload:a.data}),p.push("/")),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(1),t({type:"GENERATE_EXPORT_ERROR"}),g.a.error("Could not export instance data",1),p.push("/");case 14:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()},z=function(e){return function(){var t=Object(v.a)(b.a.mark((function t(a){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return g.a.success("loading...",1),t.prev=1,t.next=4,k.put("/file/explorer",{uuid:e});case 4:t.next=10;break;case 6:t.prev=6,t.t0=t.catch(1),g.a.error("There was a problem opening the file in the file explorer",1),window.location.reload();case 10:case"end":return t.stop()}}),t,null,[[1,6]])})));return function(e){return t.apply(this,arguments)}}()},G=(a(203),a(105)),B=(a(38),a(8)),Q=a(11),K=a(21),W=a(26),X=(a(202),B.a.Content),J=B.a.Footer,Z=function(e){Object(f.a)(a,e);var t=Object(E.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).getUsername=function(){return"yarnpoint"},e.onSubmit=function(t,a){(0,a.setSubmitting)(!1),e.props.signIn(t)},e}return Object(h.a)(a,[{key:"componentDidMount",value:function(){document.title="yarnpoint"}},{key:"render",value:function(){return r.a.createElement(B.a,{className:"login-layout"},r.a.createElement(X,{className:"login-content"},r.a.createElement(G.a,{className:"login-card"},r.a.createElement(K.d,{initialValues:{email:"",password:"",confirmPassword:""},validationSchema:$,onSubmit:this.onSubmit},(function(e){var t=e.isSubmitting;return r.a.createElement(K.c,{className:"login-form"},r.a.createElement("h1",{className:"login-title"},r.a.createElement("span",{role:"img","aria-label":"jsx-a11y/accessible-emoji",style:{paddingRight:"0.5rem"}}," ","\u2728"),"yarnpoint",r.a.createElement("span",{role:"img","aria-label":"jsx-a11y/accessible-emoji",style:{paddingRight:"0.5rem"}},"  ","\u2728")),r.a.createElement(K.b,{type:"email",name:"email",placeholder:"email",className:"login-field"}),r.a.createElement(K.a,{name:"email",component:"div",className:"login-error"}),r.a.createElement(K.b,{type:"password",name:"password",placeholder:"password",className:"login-field"}),r.a.createElement(K.a,{name:"password",component:"div",className:"login-error"}),r.a.createElement(K.a,{name:"confirmPassword",component:"div",className:"login-error"}),r.a.createElement("button",{type:"submit",disabled:t,className:"login-submit"},"login"),r.a.createElement(Q.a,{to:"/create-account",className:"login-signup"},"create account"))})),r.a.createElement("div",{className:"login-after-card"},r.a.createElement(Q.a,{to:"/forgot-password",className:"login-forgot-password"},"lost password")))),r.a.createElement(J,null))}}]),a}(n.Component),$=W.object().shape({email:W.string().required().email("E-mail is not valid!"),password:W.string().required().min(5,"Password has to be longer than 6 characters!")}),ee=Object(s.b)((function(e){return{isSignedIn:e.auth.isSignedIn}}),{signIn:function(e){return function(){var t=Object(v.a)(b.a.mark((function t(a){var n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:"SIGN_IN"}),t.prev=1,t.next=4,k.put("/auth/login",e);case 4:n=t.sent,localStorage.setItem("displayName",n.data.displayName),a({type:"SIGN_IN_SUCCESS",payload:n.data}),t.next=14;break;case 9:t.prev=9,t.t0=t.catch(1),a({type:"SIGN_IN_ERROR"}),g.a.error("There was a problem signing in",1),p.push("/");case 14:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()}})(Z),te=B.a.Content,ae=B.a.Footer,ne=function(e){Object(f.a)(a,e);var t=Object(E.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).onSubmit=function(t,a){(0,a.setSubmitting)(!1),e.props.forgotPassword(t)},e}return Object(h.a)(a,[{key:"componentDidMount",value:function(){document.title="forgot password"}},{key:"render",value:function(){return r.a.createElement(B.a,{className:"login-layout"},r.a.createElement(te,{className:"login-content"},r.a.createElement(G.a,{className:"login-card"},r.a.createElement(K.d,{initialValues:{email:"",password:"",confirmPassword:""},validationSchema:re,onSubmit:this.onSubmit},(function(e){var t=e.isSubmitting;return r.a.createElement(K.c,{className:"login-form"},r.a.createElement("h1",{className:"login-title"}," ",r.a.createElement("span",{role:"img","aria-label":"jsx-a11y/accessible-emoji",style:{paddingRight:"0.5rem"}}," ","\u2728"),"lost password"," ",r.a.createElement("span",{role:"img","aria-label":"jsx-a11y/accessible-emoji",style:{paddingRight:"0.5rem"}}," ","\u2728")),r.a.createElement(K.b,{type:"email",name:"email",placeholder:"email",className:"login-field"}),r.a.createElement(K.a,{name:"email",component:"div",className:"login-error"}),r.a.createElement(K.b,{type:"password",name:"newPassword",placeholder:"new password",className:"login-field"}),r.a.createElement(K.a,{name:"newPassword",component:"div",className:"login-error"}),r.a.createElement(K.b,{type:"password",name:"confirmNewPassword",placeholder:"confirm new password",className:"login-field"}),r.a.createElement(K.a,{name:"confirmNewPassword",component:"div",className:"login-error"}),r.a.createElement("button",{type:"submit",disabled:t,className:"login-submit"},"reset"),r.a.createElement(Q.a,{to:"/",className:"login-signup"},"back to login"))})))),r.a.createElement(ae,null))}}]),a}(n.Component),re=W.object().shape({email:W.string().required().email("E-mail is not valid!"),newPassword:W.string().required("new password is required"),confirmNewPassword:W.string().required("please confirm new password").oneOf([W.ref("newPassword")],"Your passwords don't match")}),oe=Object(s.b)((function(e){return{isSignedIn:e.auth.isSignedIn}}),{forgotPassword:function(e){return function(){var t=Object(v.a)(b.a.mark((function t(a){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,k.put("/auth/forgot-password",{email:e.email,newPassword:e.newPassword,confirmNewPassword:e.confirmNewPassword});case 3:200===t.sent.status&&window.location.replace("/"),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),g.a.error("something went wrong",1);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}})(ne),ie=(a(145),a(54)),le=(a(285),a(165)),se=(a(48),a(4)),ce=(a(543),a(302)),ue=(a(545),a(216)),de=a(85),pe=a.n(de),me=(a(548),a(549),a(300)),he=function(e){return r.a.createElement(B.a,null,r.a.createElement(me.a,{style:{height:"100vh",display:"flex",justifyContent:"center",alignItems:"top"===e.alignment?"start":"center"},className:"loading-spinner",size:"large"}))},fe=ue.a.Item,Ee=function(e){Object(f.a)(a,e);var t=Object(E.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).signOutHandler=function(){n.props.signOut()},n.toggleSignoutModal=function(){n.state.showSignoutModal?(n.setState({showSignoutModal:!1}),document.body.style.removeProperty("overflow")):n.setState({showSignoutModal:!0})},n.renderDrawerClasses=function(){return!1===n.props.animate?"page-sider no-animation":"page-sider"},n.state={showSignoutModal:null,visible:!1},n}return Object(h.a)(a,[{key:"render",value:function(){var e=this;return null===this.props.mainSider?r.a.createElement(he,null):r.a.createElement("div",{className:"sider-container"},r.a.createElement(le.a,{className:this.renderDrawerClasses(),width:"200px",mask:this.props.showMask,placement:"left",closable:!1,onClose:function(t){return e.props.hideComponent("mainSider")},visible:!!this.props.mainSider&&this.props.mainSider.visible},r.a.createElement(ue.a,{mode:"vertical",defaultSelectedKeys:["1"],className:"sider-menu"},r.a.createElement(fe,null,r.a.createElement(Q.a,{to:"/profile/".concat(this.props.user.username),onClick:function(t){return e.props.hideComponent("mainSider")}},r.a.createElement(ce.a,{className:"nav-avatar",src:this.props.user.avatar||pe.a,icon:"user",style:{display:"inline-block",verticalAlign:"middle",marginTop:"0.8rem",width:"2.5rem",height:"2.5rem",objectFit:"contain"}}))),r.a.createElement(fe,{className:"sider-menu-item sider-title"},r.a.createElement(Q.a,{to:"/profile/".concat(this.props.user.username),onClick:function(t){return e.props.hideComponent("mainSider")}},r.a.createElement(se.a,{type:"sketch",theme:"outlined",style:{margin:"0"}})," ",r.a.createElement("b",null,"Profile"))),r.a.createElement(fe,{className:"sider-menu-item"},r.a.createElement(Q.a,{to:"/",onClick:function(t){return e.props.hideComponent("mainSider")}},"Explore")),r.a.createElement(fe,{className:"sider-menu-item"},r.a.createElement(Q.a,{to:"/pins",onClick:function(t){return e.props.hideComponent("mainSider")}},"Starboard")),r.a.createElement(fe,{className:"sider-menu-item"},r.a.createElement(Q.a,{to:"/graph",onClick:function(t){e.props.clearActiveNode(),e.props.hideComponent("mainSider")}},"Constellation")),r.a.createElement(fe,{className:"sider-menu-item"},r.a.createElement(Q.a,{to:"/edit/profile/",onClick:function(t){return e.props.hideComponent("mainSider")}},"Options")),r.a.createElement(fe,{className:"sider-menu-item"},r.a.createElement(Q.a,{to:"/help",onClick:function(t){return e.props.hideComponent("mainSider")}},"Help")),r.a.createElement(fe,{className:"sider-menu-item"},r.a.createElement(Q.a,{to:"#",onClick:this.toggleSignoutModal},"Sign Out")))),r.a.createElement(ie.a,{title:this.props.user.displayName,visible:this.state.showSignoutModal,className:"signout-modal",centered:!0,onOk:this.signOutHandler,okType:"primary",okText:"Sign Out",closable:!1,onCancel:this.toggleSignoutModal},r.a.createElement("p",null,"Are you sure you want to sign out?")))}}]),a}(n.Component),ge=Object(s.b)((function(e){return{user:e.auth.user,mainSider:e.components.componentList.mainSider}}),{signOut:U,hideComponent:V,generateInstanceExport:Y,clearActiveNode:F})(Ee),ye=(a(287),a(164)),be=(a(101),a(31)),ve=a(159),we=(a(204),a(61)),Oe=a(32),Se=function(e){try{new URL(e)}catch(t){return!1}return!0},Ne=function(e){return null!=e.match(/\..+(jpeg|jpg|gif|png|webp)/)||e.includes("http://localhost")},ke=(a(288),B.a.Header),Ce=we.a.Option,je=function(e){Object(f.a)(a,e);var t=Object(E.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).toggleInputMode=function(){"query"===n.state.inputMode?n.setState({inputMode:"create",modeIcon:"plus",placeholder:"create",nodeTypes:"text"}):n.setState({inputMode:"query",modeIcon:"search",placeholder:"query",nodeTypes:"all"})},n.toggleMainSider=Object(v.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.props.mainSider?n.props.hideComponent("mainSider"):n.props.showComponent("mainSider");case 1:case"end":return e.stop()}}),e)}))),n.renderCreateFileNodeOption=function(){if(!0===Object(Oe.a)())return r.a.createElement(Ce,{value:"file"},"files")},n.commandHandler=function(){switch(n.state.inputMode){case"query":return n.props.searchNodes({searchQuery:n.state.input,type:n.state.nodeTypes});case"create":return n.createNodeHandler();default:return}},n.createNodeHandler=function(){var e;switch(n.props.activeNode&&(e=JSON.stringify(n.props.activeNode)),n.state.nodeTypes){case"text":n.props.createNode({isFile:!1,type:"text",name:n.state.input,preview:"",linkedNode:e}),n.setState({input:""}),p.push("/");break;case"file":n.selectLocalFile(e);break;case"url":Ne(n.state.input)?(n.props.createNode({isFile:!1,type:"image",name:n.state.input,preview:n.state.input,content:n.state.input,linkedNode:e}),n.setState({input:""})):Se(n.state.input)?(n.props.createUrlNode({isFile:!1,type:"url",name:n.state.input,preview:n.state.input,path:n.state.input,content:n.state.input,linkedNode:e}),n.setState({input:""})):g.a.error("You must enter a valid URL",1),p.push("/");break;case"collection":n.props.createNode({isFile:!1,type:"collection",name:n.state.input,preview:"",content:n.state.input,linkedNode:e}),n.setState({input:""}),p.push("/");break;default:return}},n.selectLocalFile=function(e){var t=document.createElement("input");t.setAttribute("type","file"),t.setAttribute("multiple",!0),t.click(),t.onchange=Object(v.a)(b.a.mark((function a(){var r,o,i,l;return b.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:r=[],o=Object(ve.a)(t.files);try{for(o.s();!(i=o.n()).done;)l=i.value,r.push({name:l.name,path:l.path,type:l.type})}catch(s){o.e(s)}finally{o.f()}return a.next=5,n.props.linkFileNodes(r,e);case 5:n.setState({input:""}),p.push("/");case 7:case"end":return a.stop()}}),a)})))},n.renderSelectBefore=function(){return"query"===n.state.inputMode?r.a.createElement(we.a,{showSearch:!0,showArrow:!1,value:n.state.nodeTypes,onChange:function(e){return n.setState({nodeTypes:e})}},r.a.createElement(Ce,{value:"all"},"all"),r.a.createElement(Ce,{value:"url"},"urls"),r.a.createElement(Ce,{value:"file"},"file"),r.a.createElement(Ce,{value:"text"},"text"),r.a.createElement(Ce,{value:"image"},"images"),r.a.createElement(Ce,{value:"package"},"discs"),r.a.createElement(Ce,{value:"collection"},"collections")):r.a.createElement(we.a,{showSearch:!0,showArrow:!1,value:n.state.nodeTypes,onChange:function(e){return n.setState({nodeTypes:e})}},r.a.createElement(Ce,{value:"text"},"text"),n.renderCreateFileNodeOption(),r.a.createElement(Ce,{value:"url"},"url"),r.a.createElement(Ce,{value:"collection"},"collection"))},n.state={input:"",nodeTypes:n.props.query.type||"all",createType:null,queryType:null,inputMode:"query",modeIcon:"search",placeholder:"query"},n}return Object(h.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(ke,{className:"page-header"},r.a.createElement("ul",{className:"nav-list"},r.a.createElement("li",{className:"nav-item io-sider-button mobile-visible",style:{marginRight:"0"}},r.a.createElement(be.a,{type:"default",shape:"circle",onClick:function(t){return e.toggleMainSider()}},r.a.createElement(se.a,{type:"bars",theme:"outlined"}))),r.a.createElement("li",{className:"nav-item io-sider-button",style:{marginRight:"0.4rem"}},r.a.createElement(Q.a,{type:"default",to:"/graph"},r.a.createElement(se.a,{type:"deployment-unit",theme:"outlined"}))),r.a.createElement("li",{className:"nav-item io-sider-button",style:{marginRight:"0.5rem"}},r.a.createElement(Q.a,{type:"default",to:"/"},r.a.createElement(se.a,{type:"home",theme:"filled"}))),r.a.createElement("li",{className:"nav-item io-sider-button",style:{marginRight:"0.1rem"}},r.a.createElement(Q.a,{type:"default",to:"/pins",style:{marginRight:"0.3rem"}},r.a.createElement(se.a,{type:"star",theme:"filled"}))),r.a.createElement("li",{className:"nav-item create-node-button"},r.a.createElement(be.a,{type:"default",shape:"circle",onClick:function(t){return e.toggleInputMode()}},r.a.createElement(se.a,{type:this.state.modeIcon,theme:"outlined"}))),r.a.createElement("li",{className:"nav-search"},r.a.createElement(ye.a,{onPressEnter:function(t,a){return e.commandHandler()},maxLength:500,value:this.state.input,onChange:function(t){return e.setState({input:t.target.value})},defaultValue:this.props.query.searchQuery||"",placeholder:this.state.placeholder,addonBefore:this.renderSelectBefore(),className:"nav-search-input"})))))}}]),a}(n.Component),xe=Object(s.b)((function(e){return{user:e.auth.user,query:e.nodes.query,mainSider:e.components.componentList.mainSider,activeNode:e.nodes.activeNode}}),{signOut:U,searchNodes:_,createNode:D,linkFileNodes:function(e,t){return function(){var a=Object(v.a)(b.a.mark((function a(n){var r;return b.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n({type:"LINK_FILE_NODES"}),a.prev=1,a.next=4,k.put("/file/link",{fileList:JSON.stringify(e),linkedNode:t});case 4:r=a.sent,console.log(r.data.nodes),200===r.status?n({type:"LINK_FILE_NODES_SUCCESS",nodes:r.data.nodes}):g.a.error("There was a problem creating the file nodes",1),a.next=13;break;case 9:a.prev=9,a.t0=a.catch(1),n({type:"LINK_FILE_NODES_ERROR"}),g.a.error("There was a problem creating the file nodes",1);case 13:case"end":return a.stop()}}),a,null,[[1,9]])})));return function(e){return a.apply(this,arguments)}}()},createUrlNode:T,showComponent:q,hideComponent:V})(je),_e=(a(147),a(146),a(29)),Ae=function(e){Object(f.a)(a,e);var t=Object(E.a)(a);function a(e){var o;return Object(m.a)(this,a),(o=t.call(this,e)).saveName=function(e){o.state.name!==e&&o.props.updateActiveNode({uuid:o.props.nodeData.uuid,name:e}),o.setState({name:e})},o.toggleDeleteModal=function(){o.state.showDeleteModal?o.setState({showDeleteModal:!1}):o.setState({showDeleteModal:!0})},o.deleteHandler=Object(v.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o.setState({showDeleteModal:!1}),o.setState({deleting:!0}),e.next=4,o.props.deleteNode(o.props.nodeData.uuid);case 4:o.props.clearActiveNode();case 5:case"end":return e.stop()}}),e)}))),o.toggleExportModal=function(){o.state.showExportModal?o.setState({showExportModal:!1}):o.setState({showExportModal:!0})},o.exportHandler=Object(v.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o.setState({showExportModal:!1}),e.next=3,o.props.generateExportByUUID(o.props.nodeData.uuid);case 3:case"end":return e.stop()}}),e)}))),o.toggleUrlPreviewImageModal=function(){o.state.showUrlPreviewImageModal?o.setState({showUrlPreviewImageModal:!1}):o.setState({showUrlPreviewImageModal:!0})},o.setUrlPreviewImage=function(e){Ne(e)&&Se(e)?(g.a.success("updated the preview image"),o.toggleUrlPreviewImageModal(),o.props.updateActiveNode({uuid:o.props.nodeData.uuid,preview:e})):g.a.error("there was a problem setting the preview image",1)},o.toggleHidden=function(){!0===o.state.hidden?(o.props.updateActiveNode({uuid:o.props.nodeData.uuid,hidden:!1}),o.setState({hidden:!1,hiddenIcon:"eye"})):(o.props.updateActiveNode({uuid:o.props.nodeData.uuid,hidden:!0}),o.setState({hidden:!0,hiddenIcon:"eye-invisible"}))},o.toggleSearchable=function(){!0===o.state.searchable?(o.setState({searchable:!1,searchableIcon:"key"}),o.props.updateActiveNode({uuid:o.props.nodeData.uuid,searchable:!1})):(o.setState({searchable:!0,searchableIcon:"search"}),o.props.updateActiveNode({uuid:o.props.nodeData.uuid,searchable:!0}))},o.togglePinned=function(){!0===o.state.pinned?(o.setState({pinned:!1,pinnedState:"outlined"}),o.props.updateActiveNode({uuid:o.props.nodeData.uuid,pinned:!1})):(o.setState({pinned:!0,pinnedState:"filled"}),o.props.updateActiveNode({uuid:o.props.nodeData.uuid,pinned:!0}))},o.setPreviewToLocalFilePath=function(){if(null===o.props.nodeData.preview){var e=document.createElement("input");e.setAttribute("type","file"),e.setAttribute("accept",["image/gif","image/jpg","image/jpeg","image/png","image/webp"]),e.click(),e.onchange=Object(v.a)(b.a.mark((function t(){var a;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=e.files[0],o.props.updateActiveNode({uuid:o.props.nodeData.uuid,preview:a.path});case 2:case"end":return t.stop()}}),t)})))}else o.props.clearNodePreview(o.props.nodeData)},o.renderTitle=function(){return o.state.editable?r.a.createElement("input",{type:"text",className:"full-card-title",onBlur:function(){return o.setState({editable:null})},maxLength:"250",autoFocus:!0,placeholder:"name",value:o.state.name,onKeyPress:function(e){"Enter"===e.key&&o.setState({editable:null})},onChange:function(e){o.saveName(e.target.value)},onFocus:function(e){e.target.select()}}):r.a.createElement("h3",{className:"full-card-title",onDoubleClick:function(e){e.preventDefault(),o.setState({editable:!0})}},o.state.name)},o.renderContextualButtons=function(){switch(o.props.nodeData.type){case"package":return o.props.nodeData.metadata&&o.props.nodeData.metadata.importing?r.a.createElement(n.Fragment,null):o.props.nodeData.metadata&&o.props.nodeData.metadata.expanded?r.a.createElement(_e.a,{title:"restore",mouseEnterDelay:1.1},r.a.createElement("li",null,r.a.createElement("button",{onClick:function(e){o.props.removeImportsByPackage(o.props.nodeData.uuid)}},r.a.createElement(se.a,{type:"undo",theme:"outlined",className:"full-card-button"})))):r.a.createElement(_e.a,{title:"expand",mouseEnterDelay:1.1},r.a.createElement("li",null,r.a.createElement("button",{onClick:function(e){o.props.unpackImport(o.props.nodeData.uuid)}},r.a.createElement(se.a,{type:"save",theme:"filled",className:"full-card-button"}))));case"url":return r.a.createElement(_e.a,{title:"preview image",mouseEnterDelay:1.1},r.a.createElement("li",null,r.a.createElement("button",{onClick:function(e){o.toggleUrlPreviewImageModal()}},r.a.createElement(se.a,{type:"picture",theme:"outlined",className:"full-card-button"}))));case"file":case"audio":case"zip":return r.a.createElement(_e.a,{title:"replace preview image",mouseEnterDelay:1.1},r.a.createElement("li",null,r.a.createElement("button",{onClick:function(e){o.setPreviewToLocalFilePath()}},r.a.createElement(se.a,{type:"picture",theme:"outlined",className:"full-card-button"}))));default:return}},o.renderRevealInExplorerButton=function(){if(o.props.nodeData.isFile)return r.a.createElement(_e.a,{title:"open in file explorer",mouseEnterDelay:1.1},r.a.createElement("li",null,r.a.createElement("button",{onClick:function(e){o.props.openFileInExplorer(o.props.nodeData.uuid)}},r.a.createElement(se.a,{type:"folder-open",theme:"outlined",className:"full-card-button"}))))},o.renderExportButton=function(){if("package"!==o.props.nodeData.type)return r.a.createElement(_e.a,{title:"generate export",mouseEnterDelay:1.1},r.a.createElement("li",null,r.a.createElement("button",{onClick:function(e){o.toggleExportModal()}},r.a.createElement(se.a,{type:"save",theme:"outlined",className:"full-card-button"}))))},o.state={name:o.props.nodeData.name,preview:o.props.nodeData.preview,hidden:o.props.nodeData.hidden,hiddenIcon:"eye-invisible",searchable:o.props.nodeData.searchable,searchableIcon:"search",pinned:o.props.nodeData.pinned,pinnedState:"outlined",editable:!1,showDeleteModal:null,showExportModal:null,showUrlPreviewImageModal:null},o}return Object(h.a)(a,[{key:"componentDidMount",value:function(){this.props.nodeData.hidden?this.setState({hiddenIcon:"eye-invisible"}):this.setState({hiddenIcon:"eye"}),this.props.nodeData.searchable?this.setState({searchableIcon:"search"}):this.setState({searchableIcon:"key"}),this.props.nodeData.pinned?this.setState({pinnedState:"filled"}):this.setState({pinnedState:"outlined"})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"full-card-options"},this.renderTitle(),r.a.createElement("ul",{className:"full-card-buttons-list"},r.a.createElement(_e.a,{title:"associations",mouseEnterDelay:1.1},r.a.createElement("li",{className:"mobile-visible"},r.a.createElement("button",{onClick:function(t){e.props.showComponent("associationSider",e.props.nodeData)}},r.a.createElement(se.a,{type:"branches",theme:"outlined",className:"full-card-button"})))),r.a.createElement(_e.a,{title:"constellation",mouseEnterDelay:1.1},r.a.createElement("li",{className:"mobile-visible"},r.a.createElement("button",{onClick:function(t){return window.location.replace("/graph/".concat(e.props.nodeData.uuid))}},r.a.createElement(se.a,{type:"deployment-unit",theme:"outlined",className:"full-card-button"})))),r.a.createElement(_e.a,{title:"star",mouseEnterDelay:1.1},r.a.createElement("li",{className:"mobile-visible"},r.a.createElement("button",{onClick:function(t){return e.togglePinned()}},r.a.createElement(se.a,{type:"star",theme:this.state.pinnedState,className:"full-card-button"})))),this.renderContextualButtons(),this.renderExportButton(),this.renderRevealInExplorerButton(),r.a.createElement(_e.a,{title:this.state.hidden?"hidden from explore":"visible in explore",mouseEnterDelay:1.1},r.a.createElement("li",null,r.a.createElement("button",{onClick:function(t){return e.toggleHidden()}},r.a.createElement(se.a,{type:this.state.hiddenIcon,theme:"outlined",className:"full-card-button"})))),r.a.createElement(_e.a,{title:this.state.searchable?"searchable":"hidden from search",mouseEnterDelay:1.1},r.a.createElement("li",null,r.a.createElement("button",{onClick:function(t){return e.toggleSearchable()}},r.a.createElement(se.a,{type:this.state.searchableIcon,theme:"outlined",className:"full-card-button"})))),r.a.createElement(_e.a,{title:"open in browser",mouseEnterDelay:1.1},r.a.createElement("li",null,r.a.createElement("button",{onClick:function(t){return window.open("/associations/".concat(e.props.nodeData.uuid),"_blank")}},r.a.createElement(se.a,{type:"global",theme:"outlined",className:"full-card-button"})))),r.a.createElement(_e.a,{title:"delete",mouseEnterDelay:1.1},r.a.createElement("li",{className:"mobile-visible"},r.a.createElement("button",{onClick:function(t){return e.toggleDeleteModal()}},r.a.createElement(se.a,{type:"delete",theme:"outlined",className:"full-card-button delete"}))))),r.a.createElement(ie.a,{title:"Confirm Deletion",visible:this.state.showDeleteModal,className:"delete-modal",centered:!0,onOk:this.deleteHandler,afterClose:function(){return document.body.style.removeProperty("overflow")},okType:"danger",okText:"Delete",closable:!1,onCancel:this.toggleDeleteModal},r.a.createElement("p",null,"Are you sure you want to delete ",r.a.createElement("b",null,this.props.nodeData.name||"untitled"),"?")),r.a.createElement(ie.a,{title:"Confirm Export",visible:this.state.showExportModal,className:"delete-modal",centered:!0,onOk:this.exportHandler,afterClose:function(){return document.body.style.removeProperty("overflow")},okText:"Generate",closable:!1,onCancel:this.toggleExportModal},r.a.createElement("p",null,"Generate export from ",r.a.createElement("b",null,this.props.nodeData.name||"untitled"),"? The export will contain ",r.a.createElement("b",null,this.props.nodeData.name||"untitled")," along with all its associations, and appear in the starboard when it is completed.")),r.a.createElement(ie.a,{title:"Preview Image",visible:this.state.showUrlPreviewImageModal,className:"full-card-modal",centered:!0,onOk:function(t){return e.setUrlPreviewImage(e.state.preview)},afterClose:function(){document.body.style.removeProperty("overflow")},okText:"save",closable:!1,onCancel:function(t){e.setState({preview:e.props.nodeData.preview}),e.toggleUrlPreviewImageModal(),window.getSelection().removeAllRanges()}},r.a.createElement("input",{type:"text",className:"full-card-modal-input",autoFocus:!0,maxLength:"250",onFocus:function(e){e.target.select()},placeholder:"image URL",value:this.state.preview||"",onChange:function(t){return e.setState({preview:t.target.value})}})))}}]),a}(n.Component),De=Object(s.b)((function(e){return{nodeData:e.nodes.activeNode}}),{showComponent:q,updateActiveNode:function(e){return function(){var t=Object(v.a)(b.a.mark((function t(a){var n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:"UPDATE_ACTIVE_NODE"}),t.prev=1,t.next=4,k.patch("/node",{uuid:e.uuid,hidden:e.hidden,searchable:e.searchable,name:e.name,preview:e.preview,pinned:e.pinned});case 4:n=t.sent,a({type:"UPDATE_ACTIVE_NODE_SUCCESS",uuid:e.uuid,result:n.data.node}),!0===e.hidden&&a({type:"DELETE_NODE_SUCCESS",uuid:e.uuid}),t.next=15;break;case 9:t.prev=9,t.t0=t.catch(1),console.log(t.t0),a({type:"UPDATE_ACTIVE_NODE_ERROR"}),g.a.error("There was a problem saving your changes",1),p.push("/");case 15:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},clearNodePreview:function(e){return function(){var t=Object(v.a)(b.a.mark((function t(a){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:"UPDATE_ACTIVE_NODE"}),t.prev=1,t.next=4,k.patch("/node/preview/clear",{uuid:e.uuid});case 4:window.location.reload(),t.next=12;break;case 7:t.prev=7,t.t0=t.catch(1),console.log(t.t0),g.a.error("There was a problem saving your changes",1),p.push("/");case 12:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e){return t.apply(this,arguments)}}()},unpackImport:function(e){return function(){var t=Object(v.a)(b.a.mark((function t(a){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,k.put("/port/import/",{uuid:e});case 3:200===t.sent.status&&(g.a.success("started import process!",3),p.push("/")),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),g.a.error("Could not import instance data",1),p.push("/");case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},openFileInExplorer:z,deleteNode:function(e){return function(){var t=Object(v.a)(b.a.mark((function t(a){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:"DELETE_NODE"}),t.prev=1,t.next=4,k.delete("/node",{params:{uuid:e}});case 4:200===t.sent.status&&(p.push("/"),a({type:"DELETE_NODE_SUCCESS",uuid:e}),g.a.success("successfully deleted",1)),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),a({type:"DELETE_NODE_ERROR"}),g.a.error("There was a problem deleting the node",1);case 12:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()},clearActiveNode:F,generateExportByUUID:function(e){return function(){var t=Object(v.a)(b.a.mark((function t(a){var n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return g.a.success("generating export!",2),t.prev=1,a({type:"GENERATE_EXPORT"}),t.next=5,k.put("/port/export/",{uuid:e});case 5:200===(n=t.sent).status&&(a({type:"GENERATE_EXPORT_SUCCESS",payload:n.data}),p.push("/")),t.next=14;break;case 9:t.prev=9,t.t0=t.catch(1),a({type:"GENERATE_EXPORT_ERROR"}),g.a.error("Could not export instance data",1),p.push("/");case 14:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},removeImportsByPackage:function(e){return function(){var t=Object(v.a)(b.a.mark((function t(a){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return g.a.success("removing imports...",1),t.prev=1,t.next=4,k.patch("/port/export/undo/",{uuid:e});case 4:200===t.sent.status&&p.push("/"),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),g.a.error("Could not remove imports for this export",1),p.push("/");case 12:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()}})(Ae),Te=function(e){Object(f.a)(a,e);var t=Object(E.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).renderTitle=function(){return n.state.editable?r.a.createElement("input",{type:"text",className:"nodelist-item-title",onBlur:function(){return n.setState({editable:null})},maxLength:"250",autoFocus:!0,placeholder:"name",value:n.state.name,onKeyPress:function(e){"Enter"===e.key&&n.setState({editable:null})},onChange:function(e){n.saveName(e.target.value)},onFocus:function(e){e.target.select()}}):r.a.createElement("h3",{className:"nodelist-item-title",onDoubleClick:function(e){e.preventDefault(),n.setState({editable:!0})}},n.state.name)},n.saveName=function(e){n.state.name!==e&&(n.props.updateNode({uuid:n.props.node.uuid,name:e}),n.props.node.name=e,n.setState({name:e}))},n.state={name:n.props.node.name,editable:!1},n}return Object(h.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"nodelist-options",style:{display:"flex",width:"100%"}},this.renderTitle(),r.a.createElement("div",{className:"nodelist-options-buttons",style:{marginLeft:"auto"}},r.a.createElement("button",{onClick:function(t){return window.location.replace("/graph/"+e.props.node.uuid)}},r.a.createElement(se.a,{type:"deployment-unit",theme:"outlined",style:{fontSize:"0.9rem",display:"block",textAlign:"center",padding:"0"}})),r.a.createElement("button",{onClick:function(t){return e.props.markNodeView(e.props.node)}},r.a.createElement(se.a,{type:"bulb",theme:"outlined",style:{fontSize:"0.9rem",display:"block",textAlign:"center",padding:"0"}})),r.a.createElement("button",{onClick:function(t){e.props.showComponent("associationSider",e.props.node)}},r.a.createElement(se.a,{type:"branches",theme:"outlined",style:{fontSize:"0.9rem",display:"block",textAlign:"center",padding:"0"}}))))}}]),a}(n.Component),Ie=Object(s.b)(null,{markNodeView:I,showComponent:q,updateNode:A})(Te),Re=function(e){return r.a.createElement(n.Fragment,null,function(){switch(e.element){case"card":return r.a.createElement(n.Fragment,null,r.a.createElement("li",{className:"nodelist-item"},r.a.createElement(Ie,{node:e.node}),r.a.createElement(Q.a,{to:"/edit/text/".concat(e.node.uuid),onClick:function(t){t.preventDefault(),window.getSelection().removeAllRanges(),window.location.replace("/associations/".concat(e.node.uuid))},onContextMenu:function(t){t.preventDefault(),e.handleClick(),window.getSelection().removeAllRanges(),window.location.replace("/edit/text/".concat(e.node.uuid))}},r.a.createElement("p",null,e.node.preview))));case"preview":return r.a.createElement(n.Fragment,null,r.a.createElement(n.Fragment,null,r.a.createElement("p",null,e.node.preview)));case"full":return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"full-node-item"},r.a.createElement(De,null),r.a.createElement(Q.a,{to:"/edit/text/".concat(e.node.uuid),onContextMenu:function(e){window.getSelection().removeAllRanges()}},r.a.createElement("p",null,e.node.preview))));case"association-link":return r.a.createElement(n.Fragment,null,r.a.createElement(Q.a,{to:"/edit/text/".concat(e.node.uuid),onClick:function(t){return e.handleAssociatonClick()}},e.node.name));default:return}}())},Fe=a(50),Ue=a.n(Fe),Le=function(e){var t=!1,a=function(a){e.node.isFile&&(a.target.src=Ue.a,t=!0)},o=function(t){var a=document.createElement("input");a.setAttribute("type","file"),a.setAttribute("accept",["image/gif","image/jpg","image/jpeg","image/png"]),a.click(),a.onchange=Object(v.a)(b.a.mark((function t(){var n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.files[0],t.next=3,e.updateNode({uuid:e.node.uuid,path:n.path,preview:n.path});case 3:window.location.reload();case 4:case"end":return t.stop()}}),t)})))},i=function(){return null===e.node.path&&e.node.isFile&&(t=!0,e.node.preview=Ue.a),r.a.createElement("li",{className:"nodelist-item"},e.renderHeader(),r.a.createElement(Q.a,{id:"image-node-card-link",to:"/associations/".concat(e.node.uuid),onClick:function(a){!function(a){t?Object(Oe.a)()?(a.preventDefault(),o()):(a.preventDefault(),window.location.replace("/associations/".concat(e.node.uuid))):(a.preventDefault(),e.handleClick(),window.location.replace("/associations/".concat(e.node.uuid)))}(a)}},r.a.createElement(n.Fragment,null,r.a.createElement("img",{src:e.node.preview,alt:e.node.name,onError:function(e){return a(e)},style:{objectFit:"cover",minHeight:"100%",width:"100%"}}))))},l=function(){return null===e.node.path&&e.node.isFile&&(t=!0,e.node.preview=Ue.a),r.a.createElement("div",{className:"full-node-item"},r.a.createElement(De,null),r.a.createElement("img",{src:e.node.preview,alt:e.node.name,onError:function(e){return a(e)},style:{cursor:"pointer"},onClick:function(a){!function(a){!t&&e.node.isFile?(a.preventDefault(),e.handleClick(),e.launchFile(e.node.uuid)):Object(Oe.a)()&&e.node.isFile?(a.preventDefault(),o()):(a.preventDefault(),window.location.replace("/associations/".concat(e.node.uuid)))}(a)}}))};return r.a.createElement(n.Fragment,null,function(){switch(e.element){case"card":return r.a.createElement(n.Fragment,null,i());case"preview":return r.a.createElement(n.Fragment,null,(null===e.node.path&&e.node.isFile&&(t=!0,e.node.preview=Ue.a),r.a.createElement(n.Fragment,null,r.a.createElement("img",{src:e.node.preview,alt:e.node.name,onError:function(e){return a(e)},style:{objectFit:"cover",minHeight:"100%",width:"100%"}}))));case"full":return r.a.createElement(n.Fragment,null,l());case"association-link":return r.a.createElement(n.Fragment,null,r.a.createElement(Q.a,{to:"/associations/".concat(e.node.uuid),onClick:function(t){return e.handleAssociatonClick()}},e.node.name));default:return}}())},Pe=function(e){var t=function(){return e.node.preview?r.a.createElement("img",{src:e.node.preview,alt:e.node.name,style:{objectFit:"cover",width:"100%"}}):r.a.createElement(se.a,{type:"bulb",theme:"outlined",style:{fontSize:"5rem",color:"#b8b8b8",display:"block",textAlign:"center",padding:"4.3rem 3.3rem 3.3rem",height:"100%"}})},a=function(){return r.a.createElement("div",{className:"full-node-item"},r.a.createElement(De,null),e.node.path.includes("https://www.youtube.com/embed/")?r.a.createElement("iframe",{title:e.node.name,src:e.node.path,style:{width:"100%",height:"100vh",border:"none"},allowFullScreen:!0,sandbox:e.node.path.includes("https://www.youtube.com/embed/")?"allow-scripts allow-same-origin allow-popups":"",id:"node-card-iframe"}):r.a.createElement("a",{href:e.node.path,target:"_blank",rel:"noopener noreferrer",style:{width:"100%"}},t()))};return r.a.createElement(n.Fragment,null,function(){switch(e.element){case"card":return r.a.createElement(n.Fragment,null,r.a.createElement("li",{className:"nodelist-item"},e.renderHeader(),r.a.createElement("a",{href:"/associations/".concat(e.node.uuid),rel:"noopener noreferrer",onClick:function(t){t.preventDefault(),e.handleClick(),window.location.replace("/associations/".concat(e.node.uuid))},onContextMenu:function(t){t.preventDefault(),window.open(e.node.path,"_blank")},style:{width:"100%"}},t())));case"preview":return r.a.createElement(n.Fragment,null,e.node.preview?r.a.createElement(n.Fragment,null,r.a.createElement("img",{src:e.node.preview,alt:e.node.name,style:{objectFit:"cover",width:"100%"}})):r.a.createElement(n.Fragment,null,r.a.createElement(se.a,{type:"bulb",theme:"outlined",className:"node-card-icon"})));case"full":return r.a.createElement(n.Fragment,null,a());case"association-link":return r.a.createElement(n.Fragment,null,r.a.createElement(Q.a,{to:"/associations/".concat(e.node.uuid),onClick:function(t){return e.handleAssociatonClick()}},e.node.name));default:return}}())},He=function(e){var t=!1,a=function(t){var a=document.createElement("input");a.setAttribute("type","file"),a.click(),a.onchange=Object(v.a)(b.a.mark((function t(){var n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.files[0],t.next=3,e.updateNode({uuid:e.node.uuid,path:n.path});case 3:window.location.reload();case 4:case"end":return t.stop()}}),t)})))},o=function(){return null===e.node.path&&(t=!0,e.node.preview=Ue.a),e.node.preview?r.a.createElement(n.Fragment,null,r.a.createElement("img",{src:e.node.preview,alt:e.node.name,style:{objectFit:"cover",minHeight:"100%",width:"100%"}})):r.a.createElement(se.a,{type:"thunderbolt",style:{color:"white"},theme:"filled",className:"node-card-icon"})},i=function(){return r.a.createElement("li",{className:"nodelist-item"},r.a.createElement(Ie,{node:e.node}),r.a.createElement(Q.a,{to:"/associations/".concat(e.node.uuid),onClick:function(n){return function(n){t?Object(Oe.a)()?(n.preventDefault(),a()):(n.preventDefault(),window.location.replace("/associations/".concat(e.node.uuid))):(n.preventDefault(),e.handleClick(),window.location.replace("/associations/".concat(e.node.uuid)))}(n)},onContextMenu:function(n){return function(n){t?Object(Oe.a)()?(n.preventDefault(),a()):(n.preventDefault(),window.location.replace("/associations/".concat(e.node.uuid))):(n.preventDefault(),e.handleClick(),e.launchFile(e.node.uuid))}(n)}},o()))},l=function(){return r.a.createElement("div",{className:"full-node-item"},r.a.createElement(De,null),r.a.createElement(Q.a,{to:"/associations/".concat(e.node.uuid),onClick:function(n){return function(n){t?Object(Oe.a)()?(n.preventDefault(),a()):(n.preventDefault(),window.location.replace("/associations/".concat(e.node.uuid))):(n.preventDefault(),e.handleClick(),e.launchFile(e.node.uuid))}(n)}},r.a.createElement(n.Fragment,null,o())))};return r.a.createElement(n.Fragment,null,function(){switch(e.element){case"card":return r.a.createElement(n.Fragment,null,i());case"preview":return r.a.createElement(n.Fragment,null,r.a.createElement(n.Fragment,null,o()));case"full":return r.a.createElement(n.Fragment,null,l());case"association-link":return r.a.createElement(n.Fragment,null,r.a.createElement(Q.a,{to:"/associations/".concat(e.node.uuid),onClick:function(t){return e.handleAssociatonClick()}},e.node.name));default:return}}())},Me=function(e){var t=!1,a=function(t){var a=document.createElement("input");a.setAttribute("type","file"),a.click(),a.onchange=Object(v.a)(b.a.mark((function t(){var n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.files[0],t.next=3,e.updateNode({uuid:e.node.uuid,path:n.path});case 3:window.location.reload();case 4:case"end":return t.stop()}}),t)})))},o=function(){return null===e.node.path&&(t=!0,e.node.preview=Ue.a),e.node.preview?r.a.createElement(n.Fragment,null,r.a.createElement("img",{src:e.node.preview,alt:e.node.name,style:{objectFit:"cover",minHeight:"100%",width:"100%"}})):r.a.createElement(se.a,{type:"sound",style:{color:"white"},theme:"filled",className:"node-card-icon"})},i=function(){return r.a.createElement("li",{className:"nodelist-item"},r.a.createElement(Ie,{node:e.node}),r.a.createElement(Q.a,{to:"/associations/".concat(e.node.uuid),onClick:function(n){return function(n){t?Object(Oe.a)()?(n.preventDefault(),a()):(n.preventDefault(),window.location.replace("/associations/".concat(e.node.uuid))):(n.preventDefault(),e.handleClick(),window.location.replace("/associations/".concat(e.node.uuid)))}(n)},onContextMenu:function(n){return function(n){t?Object(Oe.a)()?(n.preventDefault(),a()):(n.preventDefault(),window.location.replace("/associations/".concat(e.node.uuid))):(n.preventDefault(),e.handleClick(),e.launchFile(e.node.uuid))}(n)}},o()))},l=function(){return r.a.createElement("div",{className:"full-node-item"},r.a.createElement(De,null),r.a.createElement(Q.a,{to:"/associations/".concat(e.node.uuid),onClick:function(n){return function(n){t?Object(Oe.a)()?(n.preventDefault(),a()):(n.preventDefault(),window.location.replace("/associations/".concat(e.node.uuid))):(n.preventDefault(),e.handleClick(),e.launchFile(e.node.uuid))}(n)}},r.a.createElement(n.Fragment,null,o())))};return r.a.createElement(n.Fragment,null,function(){switch(e.element){case"card":return r.a.createElement(n.Fragment,null,i());case"preview":return r.a.createElement(n.Fragment,null,r.a.createElement(n.Fragment,null,o()));case"full":return r.a.createElement(n.Fragment,null,l());case"association-link":return r.a.createElement(n.Fragment,null,r.a.createElement(Q.a,{to:"/associations/".concat(e.node.uuid),onClick:function(t){return e.handleAssociatonClick()}},e.node.name));default:return}}())},qe=function(e){var t=!1,a=function(t){var a=document.createElement("input");a.setAttribute("type","file"),a.click(),a.onchange=Object(v.a)(b.a.mark((function t(){var n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.files[0],t.next=3,e.updateNode({uuid:e.node.uuid,path:n.path});case 3:window.location.reload();case 4:case"end":return t.stop()}}),t)})))},o=function(){return null===e.node.path&&(t=!0,e.node.preview=Ue.a),e.node.preview?r.a.createElement(n.Fragment,null,r.a.createElement("img",{src:e.node.preview,alt:e.node.name,style:{objectFit:"cover",minHeight:"100%",width:"100%"}})):r.a.createElement(se.a,{type:"save",style:{color:"white"},theme:"filled",className:"node-card-icon"})},i=function(){return r.a.createElement("li",{className:"nodelist-item"},r.a.createElement(Ie,{node:e.node}),r.a.createElement(Q.a,{to:"/associations/".concat(e.node.uuid),onClick:function(n){return function(n){t?Object(Oe.a)()?(n.preventDefault(),a()):(n.preventDefault(),window.location.replace("/associations/".concat(e.node.uuid))):(n.preventDefault(),e.handleClick(),window.location.replace("/associations/".concat(e.node.uuid)))}(n)},onContextMenu:function(n){return function(n){t?Object(Oe.a)()?(n.preventDefault(),a()):(n.preventDefault(),window.location.replace("/associations/".concat(e.node.uuid))):(n.preventDefault(),e.handleClick(),e.launchExplorer(e.node.uuid))}(n)}},o()))},l=function(){return r.a.createElement("div",{className:"full-node-item"},r.a.createElement(De,null),r.a.createElement(Q.a,{to:"/associations/".concat(e.node.uuid),onClick:function(n){return function(n){t?Object(Oe.a)()?(n.preventDefault(),a()):(n.preventDefault(),window.location.replace("/associations/".concat(e.node.uuid))):(n.preventDefault(),e.handleClick(),e.launchExplorer(e.node.uuid))}(n)}},r.a.createElement(n.Fragment,null,o())))};return r.a.createElement(n.Fragment,null,function(){switch(e.element){case"card":return r.a.createElement(n.Fragment,null,i());case"preview":return r.a.createElement(n.Fragment,null,r.a.createElement(n.Fragment,null,o()));case"full":return r.a.createElement(n.Fragment,null,l());case"association-link":return r.a.createElement(n.Fragment,null,r.a.createElement(Q.a,{to:"/associations/".concat(e.node.uuid),onClick:function(t){return e.handleAssociatonClick()}},e.node.name));default:return}}())},Ve=function(e){var t=!1,a=function(t){var a=document.createElement("input");a.setAttribute("type","file"),a.setAttribute("accept",["application/zip"]),a.click(),a.onchange=Object(v.a)(b.a.mark((function t(){var n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.files[0],t.next=3,e.updateNode({uuid:e.node.uuid,path:n.path});case 3:window.location.reload();case 4:case"end":return t.stop()}}),t)})))},o=function(){return null===e.node.path&&(t=!0,e.node.preview=Ue.a),e.node.preview?r.a.createElement(n.Fragment,null,r.a.createElement("img",{src:e.node.preview,alt:e.node.name,style:{objectFit:"cover",minHeight:"100%",width:"100%"}})):r.a.createElement(se.a,{type:"file-zip",style:{color:"white"},theme:"filled",className:"node-card-icon"})},i=function(){return r.a.createElement("li",{className:"nodelist-item"},r.a.createElement(Ie,{node:e.node}),r.a.createElement(Q.a,{to:"/associations/".concat(e.node.uuid),onClick:function(n){return function(n){t?Object(Oe.a)()?(n.preventDefault(),a()):(n.preventDefault(),window.location.replace("/associations/".concat(e.node.uuid))):(n.preventDefault(),e.handleClick(),window.location.replace("/associations/".concat(e.node.uuid)))}(n)},onContextMenu:function(n){return function(n){t?Object(Oe.a)()?(n.preventDefault(),a()):(n.preventDefault(),window.location.replace("/associations/".concat(e.node.uuid))):(n.preventDefault(),e.handleClick(),e.launchExplorer(e.node.uuid))}(n)}},o()))},l=function(){return r.a.createElement("div",{className:"full-node-item"},r.a.createElement(De,null),r.a.createElement(Q.a,{to:"/associations/".concat(e.node.uuid),onClick:function(n){return function(n){t?Object(Oe.a)()?(n.preventDefault(),a()):(n.preventDefault(),window.location.replace("/associations/".concat(e.node.uuid))):(n.preventDefault(),e.handleClick(),e.launchExplorer(e.node.uuid))}(n)}},r.a.createElement(n.Fragment,null,o())))};return r.a.createElement(n.Fragment,null,function(){switch(e.element){case"card":return r.a.createElement(n.Fragment,null,i());case"preview":return r.a.createElement(n.Fragment,null,r.a.createElement(n.Fragment,null,o()));case"full":return r.a.createElement(n.Fragment,null,l());case"association-link":return r.a.createElement(n.Fragment,null,r.a.createElement(Q.a,{to:"/associations/".concat(e.node.uuid),onClick:function(t){return e.handleAssociatonClick()}},e.node.name));default:return}}())},Ye=function(e){var t=function(t){t.preventDefault(),e.handleClick(),window.location.replace("/associations/".concat(e.node.uuid))};return r.a.createElement(n.Fragment,null,function(){switch(e.element){case"card":return r.a.createElement(n.Fragment,null,function(){var a=0,n=null;switch(e.node.preview&&(a=(n=JSON.parse(e.node.preview)).length),a){case 0:return r.a.createElement("li",{className:"nodelist-item"},e.renderHeader(),r.a.createElement(Q.a,{to:"/associations/".concat(e.node.uuid),onClick:function(e){return t(e)},onContextMenu:function(e){}},r.a.createElement(se.a,{type:"branches",theme:"outlined",className:"node-card-icon"})));case 1:return r.a.createElement("li",{className:"nodelist-item"},e.renderHeader(),r.a.createElement(Q.a,{to:"/associations/".concat(e.node.uuid),onClick:function(e){return t(e)},onContextMenu:function(e){}},r.a.createElement(Ke,{type:n[0].type,element:"preview",node:n[0]})));case 2:return r.a.createElement("li",{className:"nodelist-item nodelist-item-collection"},e.renderHeader(),r.a.createElement(Q.a,{to:"/associations/".concat(e.node.uuid),onClick:function(e){return t(e)},onContextMenu:function(e){}},r.a.createElement("ul",{className:"nodelist-collection-grid"},r.a.createElement("li",{className:"nodelist-collection-grid-full-width"},r.a.createElement(Ke,{type:n[0].type,element:"preview",node:n[0]})),r.a.createElement("li",{className:"nodelist-collection-grid-full-width"},r.a.createElement(Ke,{type:n[1].type,element:"preview",node:n[1]})))));case 3:return r.a.createElement("li",{className:"nodelist-item nodelist-item-collection"},e.renderHeader(),r.a.createElement(Q.a,{to:"/associations/".concat(e.node.uuid),onClick:function(e){return t(e)},onContextMenu:function(e){}},r.a.createElement("ul",{className:"nodelist-collection-grid"},r.a.createElement("li",{className:"nodelist-collection-grid-full-width"},r.a.createElement(Ke,{type:n[0].type,element:"preview",node:n[0]})),r.a.createElement("li",null,r.a.createElement(Ke,{type:n[1].type,element:"preview",node:n[1]})),r.a.createElement("li",null,r.a.createElement(Ke,{type:n[2].type,element:"preview",node:n[2]})),r.a.createElement("li",null))));case 4:return r.a.createElement("li",{className:"nodelist-item nodelist-item-collection"},e.renderHeader(),r.a.createElement(Q.a,{to:"/associations/".concat(e.node.uuid),onClick:function(e){return t(e)},onContextMenu:function(e){}},r.a.createElement("ul",{className:"nodelist-collection-grid"},r.a.createElement("li",null,r.a.createElement(Ke,{type:n[0].type,element:"preview",node:n[0]})),r.a.createElement("li",null,r.a.createElement(Ke,{type:n[1].type,element:"preview",node:n[1]})),r.a.createElement("li",null,r.a.createElement(Ke,{type:n[2].type,element:"preview",node:n[2]})),r.a.createElement("li",null,r.a.createElement(Ke,{type:n[3].type,element:"preview",node:n[3]})))));default:return}}());case"full":return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"full-node-item"},r.a.createElement(De,null)));case"association-link":return r.a.createElement(n.Fragment,null,r.a.createElement(Q.a,{to:"/associations/".concat(e.node.uuid),onClick:function(t){return e.handleAssociatonClick()}},e.node.name));default:return}}())},ze=a(87),Ge=a.n(ze),Be=function(e){return r.a.createElement(n.Fragment,null,function(){switch(e.element){case"card":return r.a.createElement(n.Fragment,null,r.a.createElement("li",{className:"nodelist-item"},e.renderHeader(),r.a.createElement(Q.a,{to:"/profile/".concat(e.node.path),replace:!0,onClick:function(t){t.preventDefault(),e.handleClick(),window.location.replace("/profile/".concat(e.node.path))},onContextMenu:function(t){t.preventDefault(),e.handleClick(),window.location.replace("/profile/".concat(e.node.path))}},r.a.createElement("img",{src:e.node.preview||Ge.a,alt:e.node.name,style:{objectFit:"cover",minHeight:"100%",width:"100%"}}))));case"preview":return r.a.createElement(n.Fragment,null,r.a.createElement(n.Fragment,null,r.a.createElement("img",{src:e.node.preview||Ge.a,alt:e.node.name,style:{objectFit:"cover",minHeight:"100%",width:"100%"}})));case"full":return r.a.createElement(n.Fragment,null,(console.log(e.node),r.a.createElement("div",{className:"full-node-item"},r.a.createElement(De,null),r.a.createElement(Q.a,{to:"/profile/".concat(e.node.path)},r.a.createElement("p",null,e.node.name)))));case"association-link":return r.a.createElement(n.Fragment,null,r.a.createElement(Q.a,{to:"/profile/".concat(e.node.path),onClick:function(t){return e.handleAssociatonClick()}},e.node.name));default:return}}())},Qe=function(e){Object(f.a)(a,e);var t=Object(E.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).handleNodeClick=function(){var e=n.props.node.uuid;if(n.props.activeNode){var t=n.props.activeNode.uuid;n.props.updateLinkStrength(e,t)}},n.handleAssociatonClick=function(){if(n.props.hideComponent("associationSider"),n.props.siderNodeUUID&&n.props.node.uuid){var e=n.props.siderNodeUUID,t=n.props.node.uuid;n.props.updateLinkStrength(e,t)}},n.toggleHeader=function(){n.state.showHeader?n.setState({showHeader:!1}):n.setState({showHeader:!0})},n.renderHeader=function(){return n.state.showHeader?r.a.createElement(Ie,{node:n.props.node}):void 0},n.renderNode=function(){switch(n.props.type){case"text":return r.a.createElement(Re,{element:n.props.element,node:n.props.node,handleClick:n.handleNodeClick,handleAssociatonClick:n.handleAssociatonClick});case"image":return r.a.createElement(Le,{element:n.props.element,node:n.props.node,handleClick:n.handleNodeClick,handleAssociatonClick:n.handleAssociatonClick,updateNode:n.props.updateNode,toggleHeader:n.toggleHeader,renderHeader:n.renderHeader,launchExplorer:n.props.openFileInExplorer,launchFile:n.props.launchFileNode});case"url":return r.a.createElement(Pe,{element:n.props.element,node:n.props.node,handleClick:n.handleNodeClick,handleAssociatonClick:n.handleAssociatonClick,toggleHeader:n.toggleHeader,renderHeader:n.renderHeader});case"file":return r.a.createElement(He,{element:n.props.element,node:n.props.node,updateNode:n.props.updateNode,handleClick:n.handleNodeClick,handleAssociatonClick:n.handleAssociatonClick,launchFile:n.props.launchFileNode,launchExplorer:n.props.openFileInExplorer});case"audio":return r.a.createElement(Me,{element:n.props.element,node:n.props.node,updateNode:n.props.updateNode,handleClick:n.handleNodeClick,handleAssociatonClick:n.handleAssociatonClick,launchFile:n.props.launchFileNode});case"package":return r.a.createElement(qe,{element:n.props.element,node:n.props.node,updateNode:n.props.updateNode,handleClick:n.handleNodeClick,handleAssociatonClick:n.handleAssociatonClick,launchExplorer:n.props.openFileInExplorer});case"zip":return r.a.createElement(Ve,{element:n.props.element,node:n.props.node,updateNode:n.props.updateNode,handleClick:n.handleNodeClick,handleAssociatonClick:n.handleAssociatonClick,launchExplorer:n.props.openFileInExplorer});case"collection":return r.a.createElement(Ye,{element:n.props.element,node:n.props.node,handleClick:n.handleNodeClick,handleAssociatonClick:n.handleAssociatonClick,toggleHeader:n.toggleHeader,renderHeader:n.renderHeader});case"user":return r.a.createElement(Be,{element:n.props.element,node:n.props.node,handleClick:n.handleNodeClick,handleAssociatonClick:n.handleAssociatonClick,toggleHeader:n.toggleHeader,renderHeader:n.renderHeader});default:return}},n.state={showHeader:!0},n}return Object(h.a)(a,[{key:"render",value:function(){return r.a.createElement(n.Fragment,null,this.renderNode())}}]),a}(n.Component),Ke=Object(s.b)(null,{updateLinkStrength:M,hideComponent:V,launchFileNode:function(e){return function(){var t=Object(v.a)(b.a.mark((function t(a){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return g.a.success("loading...",1),t.prev=1,t.next=4,k.put("/file/launch",{uuid:e});case 4:t.next=10;break;case 6:t.prev=6,t.t0=t.catch(1),g.a.error("There was a problem launching the file",1),window.location.reload();case 10:case"end":return t.stop()}}),t,null,[[1,6]])})));return function(e){return t.apply(this,arguments)}}()},openFileInExplorer:z,updateNode:A})(Qe),We=function(e){return r.a.createElement("div",null,function(){if(e.node)return r.a.createElement(Ke,{type:e.node.type,element:"card",node:e.node,activeNode:e.activeNode})}())},Xe=(a(569),a(217)),Je=(a(571),function(e){Object(f.a)(a,e);var t=Object(E.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).handleDeleteAssociation=function(){var t=e.props.siderNodeUUID,a=e.props.association.uuid;if(e.props.activeNode)var n=e.props.activeNode.uuid;if(t&&a){e.props.deleteAssociationLink(t,a);var r=window.location.pathname;(r.includes("associations")||r.includes("/edit/text/"))&&n&&n===a?(e.props.removeFromAssociationList(t),e.props.hideComponent("associationSider")):(r.includes("associations")||r.includes("/edit/text/"))&&n&&n===t&&e.props.removeFromAssociationList(a)}},e.renderAssociationLink=function(t){return r.a.createElement("li",{className:"association-list-item"},r.a.createElement(_e.a,{title:t.name,mouseLeaveDelay:0,mouseEnterDelay:.3},r.a.createElement(be.a,{icon:"close",shape:"circle",size:"small",onClick:function(t){return e.handleDeleteAssociation()}}),r.a.createElement(Ke,{type:t.type,element:"association-link",node:t,siderNodeUUID:e.props.siderNodeUUID})))},e}return Object(h.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,this.renderAssociationLink(this.props.association))}}]),a}(n.Component)),Ze=Object(s.b)((function(e){return{siderNodeUUID:e.components.componentList.associationSider.content.uuid,activeNode:e.nodes.activeNode}}),{hideComponent:V,deleteAssociationLink:function(e,t){return function(){var a=Object(v.a)(b.a.mark((function a(n){var r;return b.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n({type:"DELETE_ASSOCIATION_LINK"}),a.prev=1,a.next=4,k.delete("/association",{params:{nodeA:e,nodeB:t}});case 4:200===(r=a.sent).status&&n({type:"DELETE_ASSOCIATION_LINK_SUCCESS",deletedUUID:r.data.deletedUUID}),a.next=12;break;case 8:a.prev=8,a.t0=a.catch(1),n({type:"DELETE_ASSOCIATION_LINK_ERROR"}),g.a.error("There was a problem deleting the node",1);case 12:case"end":return a.stop()}}),a,null,[[1,8]])})));return function(e){return a.apply(this,arguments)}}()},removeFromAssociationList:function(e){return{type:"REMOVE_FROM_ASSOCIATION_LIST",deletedUUID:e}},updateLinkStrength:M})(Je),$e=function(e){Object(f.a)(a,e);var t=Object(E.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).loadMore=function(){e.props.fetchAssociationLinkList({nodeUUID:e.props.nodeUUID,page:e.props.page+1})},e.renderAssociationLinkList=function(){var t=e.props.associations;return e.props.isFetching?r.a.createElement(he,{alignment:"top"}):null!==t?t.map((function(e){return r.a.createElement(Ze,{key:e.uuid,association:e})})):r.a.createElement(he,null)},e.renderLoadMoreButton=function(){var t=e.props.associations.length;if(e.props.totalItems>t+1)return r.a.createElement("li",{style:{listStyle:"none",marginTop:"0.5rem",textAlign:"center"}},r.a.createElement("button",{style:{margin:"1rem 0",width:"90%",backgroundColor:"#272727",color:"#16e998"},onClick:function(t){return e.loadMore()}},"load more"))},e}return Object(h.a)(a,[{key:"componentDidMount",value:function(){this.props.fetchAssociationLinkList({nodeUUID:this.props.nodeUUID})}},{key:"render",value:function(){return r.a.createElement("ul",{id:"node-info-list",className:"association-list"},this.renderAssociationLinkList(),this.renderLoadMoreButton())}}]),a}(n.Component),et=Object(s.b)((function(e){return{associations:e.associations.associationLinkList,page:e.associations.associationLinkListPage,totalItems:e.associations.totalLinkListItems,isFetching:e.associations.isFetching}}),{searchNodes:_,fetchAssociationLinkList:P})($e),tt=Xe.a.Option,at=function(e){Object(f.a)(a,e);var t=Object(E.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).createAssociationHandler=function(){var e=Object(v.a)(b.a.mark((function e(t){var a,r,o,i;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=[],r=n.props.associationSiderData.content,n.state.autocompleteValues.forEach((function(e){e.uuid===t&&a.push(e.uuid)})),o=a[0],i=r.uuid,e.next=7,n.props.createAssociation(i,o);case 7:n.setState({autocompleteOptions:[],autocompleteValues:null,inputText:""}),n.renderAutocompleteValues("");case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.renderAutocompleteValues=function(){var e=Object(v.a)(b.a.mark((function e(t){var a,o,i;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.props.associationSiderData.content,n.setState({inputText:t}),e.next=4,n.props.associationAutocomplete({searchQuery:t||"",uuid:a.uuid});case 4:(o=e.sent)&&(n.setState({autocompleteValues:o.map((function(e){return e}))}),i=o.map((function(e){return r.a.createElement(tt,{key:e.uuid},r.a.createElement(_e.a,{title:e.name,mouseEnterDelay:.7,placement:"left"},e.name))})),n.setState({autocompleteOptions:i}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.hideInfoSider=function(){n.setState({autocompleteOptions:null,autocompleteValues:null,inputText:""}),n.props.hideComponent("associationSider")},n.renderContent=function(){if(n.props.associationSiderData){var e=n.props.associationSiderData.content;return r.a.createElement("div",{className:"node-info-sider-container",style:{textAlign:"center"}},r.a.createElement(le.a,{className:"node-info-sider",placement:"right",closable:!1,title:e.name,onClose:function(){n.hideInfoSider(),document.documentElement.style.cssText=""},visible:n.props.associationSiderData.visible},r.a.createElement(Xe.a,{style:{width:200},placeholder:"add association",value:n.state.inputText,onChange:function(e){return n.renderAutocompleteValues(e)},onFocus:function(e){return n.renderAutocompleteValues(e)},onSelect:function(e){return n.createAssociationHandler(e)}},n.state.autocompleteOptions),r.a.createElement("br",null),r.a.createElement(et,{nodeUUID:e.uuid})))}},n.state={autocompleteOptions:null,autocompleteValues:null,inputText:""},n}return Object(h.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,this.renderContent())}}]),a}(n.Component),nt=Object(s.b)((function(e){return{associationSiderData:e.components.componentList.associationSider,page:e.associations.associationLinkListPage}}),{signOut:U,hideComponent:V,createAssociation:function(e,t){return function(){var a=Object(v.a)(b.a.mark((function a(n){var r;return b.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n({type:"CREATE_ASSOCIATION"}),a.next=4,k.put("/association",{nodeUUID:e,linkedNodeUUID:t});case 4:r=a.sent,n({type:"CREATE_ASSOCIATION_SUCCESS",associatedNode:r.data.association.associated,nodeUUID:e}),a.next=13;break;case 8:a.prev=8,a.t0=a.catch(0),n({type:"CREATE_ASSOCIATION_ERROR"}),g.a.error("Could not create association",1),p.push("/");case 13:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()},fetchAssociationLinkList:P,associationAutocomplete:function(e){return function(){var t=Object(v.a)(b.a.mark((function t(a){var n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,k.get("/association/autocomplete",{params:{searchQuery:e.searchQuery,nodeUUID:e.uuid}});case 3:return n=t.sent,t.abrupt("return",n.data.nodes);case 7:t.prev=7,t.t0=t.catch(0),g.a.error("Could not search nodes",1),p.push("/");case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}})(at),rt=function(e){Object(f.a)(a,e);var t=Object(E.a)(a);function a(e){var o;return Object(m.a)(this,a),(o=t.call(this,e)).infiniteScroll=function(e){o.endReached()&&!o.props.isFetching&&(o.setState({topOfPage:!1}),o.props.fetchNodes({page:o.props.query.page+1,type:o.props.query.type,searchQuery:o.props.query.searchQuery}))},o.endReached=function(){var e="innerHeight"in window?window.innerHeight:document.documentElement.offsetHeight,t=document.body,a=document.documentElement,n=Math.max(t.scrollHeight,t.offsetHeight,a.clientHeight,a.scrollHeight,a.offsetHeight),r=e+window.pageYOffset;return window.pageYOffset<1&&!o.props.isFetching&&!o.state.topOfPage&&(o.setState({topOfPage:!0}),o.props.fetchNodes({page:1,type:o.props.query.type,searchQuery:o.props.query.searchQuery})),r>=n-733},o.renderNodeList=function(){var e=o.props.nodes;return null!==e?e.map((function(e){return e.uuid?r.a.createElement(We,{key:e.uuid,node:e}):r.a.createElement(n.Fragment,null)})):r.a.createElement(he,null)},o.state={topOfPage:!1},o}return Object(h.a)(a,[{key:"componentDidMount",value:function(){this.props.fetchNodes({page:1,type:this.props.query.type,searchQuery:this.props.query.searchQuery}),window.addEventListener("scroll",this.infiniteScroll)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.infiniteScroll)}},{key:"render",value:function(){return r.a.createElement("div",{className:"nodelist-container"},r.a.createElement("ul",{className:"nodelist"},this.renderNodeList()),r.a.createElement(nt,null))}}]),a}(n.Component),ot=Object(s.b)((function(e){return{nodes:e.nodes.nodeList,query:e.nodes.query,totalNodes:e.nodes.totalItems,isFetching:e.nodes.isFetching}}),{fetchNodes:x})(rt),it=B.a.Content,lt=function(e){Object(f.a)(a,e);var t=Object(E.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).renderMainSider=function(){if(e.props.mainSider)return r.a.createElement(ge,null)},e}return Object(h.a)(a,[{key:"componentDidMount",value:function(){document.title="home",document.body.style.removeProperty("overflow"),window.scrollTo({top:0,behavior:"smooth"})}},{key:"render",value:function(){return r.a.createElement(B.a,{className:"page-layout"},r.a.createElement(B.a,null,this.renderMainSider(),r.a.createElement(it,{style:{minHeight:"100vh"}},r.a.createElement(xe,null),r.a.createElement("div",{className:"list-container"},r.a.createElement(ot,null)))))}}]),a}(n.Component),st=Object(s.b)((function(e){return{isSignedIn:e.auth.isSignedIn,mainSider:e.components.componentList.mainSider}}))(lt),ct=(a(572),B.a.Content),ut=function(e){Object(f.a)(a,e);var t=Object(E.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).toggleAvatarModal=function(){!1===n.state.avatarModal?n.setState({avatarModal:!0}):n.setState({avatarModal:!1})},n.renderMainSider=function(){if(n.props.mainSider)return r.a.createElement(ge,null)},n.initializeFromUrlParams=Object(v.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.props.fetchUserByUsername(n.props.match.params.username);case 2:(t=e.sent)?(n.setState({initialized:!0,username:t.username,displayName:t.displayName,bio:t.bio,avatar:t.avatar,header:t.header}),n.props.markNodeView({uuid:t.nodeId}),document.title=t.displayName):(g.a.error("there was a problem loading the user"),n.props.history.push("/"));case 4:case"end":return e.stop()}}),e)}))),n.state={initialized:!1,username:"",displayName:"",bio:"",avatar:null,header:null,avatarModal:!1},n}return Object(h.a)(a,[{key:"componentDidMount",value:function(){document.title=this.props.match.params.username,this.initializeFromUrlParams()}},{key:"componentDidUpdate",value:function(){document.body.style.removeProperty("overflow"),this.state.username!==this.props.match.params.username&&(document.title=this.props.match.params.username,this.initializeFromUrlParams())}},{key:"componentWillUnmount",value:function(){this.props.hideComponent("mainSider")}},{key:"render",value:function(){return this.state.initialized?r.a.createElement("div",{className:"profile-container"},this.renderMainSider(),r.a.createElement(B.a,null,r.a.createElement(ct,{style:{marginBottom:"0"},className:"Profile"},r.a.createElement(xe,null),r.a.createElement("div",{className:"profile-card"},r.a.createElement("button",{href:"/profile/".concat(this.state.username)},r.a.createElement("div",{className:"Profile-header"},r.a.createElement("img",{src:this.state.header||Ge.a,alt:"example",draggable:"false"}))),r.a.createElement("div",{className:"Profile-avatar"},r.a.createElement("img",{src:this.state.avatar||pe.a,alt:"profile",draggable:"false",onClick:this.toggleAvatarModal})),r.a.createElement("div",{className:"Profile-info"},r.a.createElement("h2",{className:"Profile-displayName"},this.state.displayName,r.a.createElement("div",{className:"verified-sign-container"},r.a.createElement("svg",{viewBox:"0 0 24 24","aria-label":"Verified account",className:"verified-sign"},r.a.createElement("g",null,r.a.createElement("path",{d:"M22.5 12.5c0-1.58-.875-2.95-2.148-3.6.154-.435.238-.905.238-1.4 0-2.21-1.71-3.998-3.818-3.998-.47 0-.92.084-1.336.25C14.818 2.415 13.51 1.5 12 1.5s-2.816.917-3.437 2.25c-.415-.165-.866-.25-1.336-.25-2.11 0-3.818 1.79-3.818 4 0 .494.083.964.237 1.4-1.272.65-2.147 2.018-2.147 3.6 0 1.495.782 2.798 1.942 3.486-.02.17-.032.34-.032.514 0 2.21 1.708 4 3.818 4 .47 0 .92-.086 1.335-.25.62 1.334 1.926 2.25 3.437 2.25 1.512 0 2.818-.916 3.437-2.25.415.163.865.248 1.336.248 2.11 0 3.818-1.79 3.818-4 0-.174-.012-.344-.033-.513 1.158-.687 1.943-1.99 1.943-3.484zm-6.616-3.334l-4.334 6.5c-.145.217-.382.334-.625.334-.143 0-.288-.04-.416-.126l-.115-.094-2.415-2.415c-.293-.293-.293-.768 0-1.06s.768-.294 1.06 0l1.77 1.767 3.825-5.74c.23-.345.696-.436 1.04-.207.346.23.44.696.21 1.04z"}))))),r.a.createElement("i",{className:"Profile-username"},"@".concat(this.state.username)),r.a.createElement("p",{className:"Profile-bio"},this.state.bio))),r.a.createElement(ie.a,{title:this.state.displayName,visible:this.state.avatarModal,className:"profile-modal",centered:!0,onCancel:this.toggleAvatarModal,closable:!1,footer:null,afterClose:function(){document.body.style.removeProperty("overflow")}},r.a.createElement("img",{src:this.state.avatar||pe.a,alt:"avatar"})),r.a.createElement(ot,null)))):r.a.createElement(B.a,{className:"page-layout"},r.a.createElement(B.a,null,r.a.createElement(B.a,null,r.a.createElement(he,null))))}}]),a}(n.Component),dt=Object(s.b)((function(e){return{user:e.auth.user,mainSider:e.components.componentList.mainSider}}),{fetchUserByUsername:L,showComponent:q,hideComponent:V,markNodeView:I})(ut),pt=(a(573),B.a.Content),mt=function(e){Object(f.a)(a,e);var t=Object(E.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).updatePassword=function(e,t){var a=t.setSubmitting;n.togglePasswordModal(),a(!1),n.props.changePassword(e)},n.handleClearNodes=function(e,t){var a=t.setSubmitting;n.toggleDeleteNodesModal(),a(!1),n.props.clearAllNodes(e)},n.togglePasswordModal=function(){n.state.showPasswordModal?n.setState({showPasswordModal:!1}):n.setState({showPasswordModal:!0})},n.toggleDeleteNodesModal=function(){n.state.showDeleteNodesModal?n.setState({showDeleteNodesModal:!1}):n.setState({showDeleteNodesModal:!0})},n.toggleExportModal=function(){n.state.showExportModal?n.setState({showExportModal:!1}):n.setState({showExportModal:!0})},n.exportHandler=Object(v.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({showExportModal:!1}),e.next=3,n.props.generateInstanceExport();case 3:case"end":return e.stop()}}),e)}))),n.passwordModal=function(){return r.a.createElement(K.d,{initialValues:{oldPassword:"",newPassword:"",confirmNewPassword:""},validationSchema:ht,onSubmit:n.updatePassword,style:{display:"inline-block"}},(function(e){var t=e.isSubmitting;return r.a.createElement(K.c,{className:"password-modal-form"},r.a.createElement(K.b,{type:"password",name:"oldPassword",placeholder:"old password",className:"password-modal-field"}),r.a.createElement(K.a,{name:"oldPassword",component:"div"}),r.a.createElement(K.b,{type:"password",name:"newPassword",placeholder:"new password",className:"password-modal-field"}),r.a.createElement(K.a,{name:"newPassword",component:"div"}),r.a.createElement(K.b,{type:"password",name:"confirmNewPassword",placeholder:"confirm new password",className:"password-modal-field"}),r.a.createElement(K.a,{name:"confirmNewPassword",component:"div"}),r.a.createElement("button",{type:"submit",disabled:t},"change password"))}))},n.deleteAllNodesModal=function(){return r.a.createElement(K.d,{initialValues:{passwordValue:"",confirmPassword:""},validationSchema:ft,onSubmit:n.handleClearNodes,style:{display:"inline-block"}},(function(e){var t=e.isSubmitting;return r.a.createElement(K.c,{className:"password-modal-form"},r.a.createElement("p",null,"Are you are you want to delete all nodes and associations for this user? This action is not reversible, it's recommended that u make a backup first."),r.a.createElement(K.b,{type:"password",name:"passwordValue",placeholder:"password",className:"password-modal-field"}),r.a.createElement(K.a,{name:"passwordValue",component:"div"}),r.a.createElement(K.b,{type:"password",name:"confirmPassword",placeholder:"confirm password",className:"password-modal-field"}),r.a.createElement(K.a,{name:"confirmPassword",component:"div"}),r.a.createElement("button",{type:"danger",disabled:t,style:{color:"white",backgroundColor:"red"}},"yes, i want to delete all my data"))}))},n.initializeFromUrlParams=Object(v.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.props.fetchUserByUsername(n.props.user.username);case 2:(t=e.sent)&&!n.state.initialized?n.setState({initialized:!0,username:t.username,email:n.props.user.email,displayName:t.displayName,bio:t.bio,avatar:t.avatar,header:t.header}):(g.a.error("there was a problem loading your profile"),n.props.history.push("/"));case 4:case"end":return e.stop()}}),e)}))),n.setAvatar=function(){var e=document.createElement("input");e.setAttribute("type","file"),e.click(),e.onchange=Object(v.a)(b.a.mark((function t(){var a,r;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.files[0],!/^image\//.test(a.type)){t.next=8;break}return t.next=4,n.props.updateUserAvatar(a);case 4:r=t.sent,n.setState({avatar:r}),t.next=9;break;case 8:g.a.error("The file must be an image",1);case 9:case"end":return t.stop()}}),t)})))},n.setHeader=function(){var e=document.createElement("input");e.setAttribute("type","file"),e.click(),e.onchange=Object(v.a)(b.a.mark((function t(){var a,r;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.files[0],!/^image\//.test(a.type)){t.next=8;break}return t.next=4,n.props.updateUserHeader(a);case 4:r=t.sent,n.setState({header:r}),t.next=9;break;case 8:g.a.error("The file must be an image",1);case 9:case"end":return t.stop()}}),t)})))},n.renderDisplayName=function(){return r.a.createElement("input",{type:"text",className:"Options-display-name",placeholder:"Display Name",value:n.state.displayName,onChange:function(e){return n.saveDisplayName(e.target.value)}})},n.saveDisplayName=function(e){n.state.displayName!==e&&(n.props.updateUserInfo({username:n.props.user.username,displayName:e}),localStorage.setItem("displayName",e),document.title=e,n.setState({displayName:e}))},n.renderBio=function(){return r.a.createElement("textarea",{type:"text",className:"Options-bio",placeholder:"Bio",value:n.state.bio,onChange:function(e){return n.saveBio(e.target.value)}})},n.saveBio=function(e){n.state.bio!==e&&(n.props.updateUserInfo({username:n.props.user.username,bio:e}),n.setState({bio:e}))},n.renderUsername=function(){return r.a.createElement("input",{type:"text",className:"Options-standard-input",placeholder:"username",value:n.state.username,onChange:function(e){return n.saveUsername(e.target.value)}})},n.saveUsername=function(e){n.state.username!==e&&(n.props.updateUsername(e),n.setState({username:e}))},n.renderEmail=function(){return r.a.createElement("input",{type:"text",className:"Options-standard-input",placeholder:"email",value:n.state.email,onChange:function(e){return n.saveEmail(e.target.value)}})},n.saveEmail=function(e){n.state.email!==e&&(n.props.updateEmail(e),n.setState({email:e}))},n.renderMainSider=function(){if(n.props.mainSider)return r.a.createElement(ge,null)},n.state={showPasswordModal:!1,showDeleteNodesModal:!1,showExportModal:!1,initialized:!1,username:"",email:"",displayName:"",bio:"",avatar:null,header:null},n}return Object(h.a)(a,[{key:"componentDidMount",value:function(){document.title="Edit Profile",document.body.style.removeProperty("overflow"),this.initializeFromUrlParams()}},{key:"componentWillUnmount",value:function(){window.getSelection().removeAllRanges(),this.props.hideComponent("mainSider")}},{key:"render",value:function(){var e=this;return r.a.createElement(B.a,{className:"Options-container"},this.renderMainSider(),r.a.createElement(B.a,null,r.a.createElement(pt,{className:"Options"},r.a.createElement(xe,null),r.a.createElement("div",{className:"Options-card"},r.a.createElement("button",{onClick:this.setHeader},r.a.createElement("div",{className:"Options-header"},r.a.createElement(se.a,{type:"camera",className:"Options-header-edit-icon"}),r.a.createElement("img",{src:this.state.header||Ge.a,alt:"example",draggable:"false"}))),r.a.createElement("button",{onClick:this.setAvatar},r.a.createElement("div",{className:"Options-avatar"},r.a.createElement(se.a,{type:"camera",className:"Options-avatar-edit-icon"}),r.a.createElement("img",{src:this.state.avatar||pe.a,alt:"profile",draggable:"false"}))),r.a.createElement("div",{className:"Options-info"},r.a.createElement(be.a,{type:"default",style:{margin:"0 0 10px",backgroundColor:"white",width:"10rem",padding:"0.5rem",display:"inline-block",textAlign:"center"},onClick:function(t){e.toggleExportModal()}},"export all user data"),r.a.createElement("br",null),r.a.createElement(be.a,{type:"default",style:{margin:"0 0 10px",backgroundColor:"white",width:"10rem",padding:"0.5rem",display:"inline-block",textAlign:"center"},onClick:function(t){return e.togglePasswordModal()}},"change password"),r.a.createElement("br",null),r.a.createElement(be.a,{type:"default",style:{margin:"0 0 10px",backgroundColor:"white",width:"10rem",padding:"0.5rem",display:"inline-block",textAlign:"center"},onClick:function(t){window.location.replace("/profile/".concat(e.props.user.username)),e.props.regenerateCollectionPreviews()}},"regenerate previews"),r.a.createElement("br",null),r.a.createElement(be.a,{type:"danger",style:{margin:"0 0 10px",backgroundColor:"red",width:"10rem",padding:"0.5rem",display:"inline-block",textAlign:"center"},onClick:function(t){return e.toggleDeleteNodesModal()}},"delete all data"),r.a.createElement("br",null),this.renderDisplayName(),this.renderUsername(),this.renderEmail(),this.renderBio(),r.a.createElement(be.a,{type:"default",style:{margin:"0 0 10px",backgroundColor:"white",width:"4rem",display:"inline-block",textAlign:"center"},onClick:function(t){return e.props.history.push("/profile/".concat(e.props.user.username))}},"done"),r.a.createElement(ie.a,{title:"change password",visible:this.state.showPasswordModal,className:"password-modal",centered:!0,afterClose:function(){return document.body.style.removeProperty("overflow")},footer:null,closable:!1,onCancel:this.togglePasswordModal},this.passwordModal()),r.a.createElement(ie.a,{title:"delete all data",visible:this.state.showDeleteNodesModal,className:"password-modal",centered:!0,afterClose:function(){return document.body.style.removeProperty("overflow")},footer:null,closable:!1,onCancel:this.toggleDeleteNodesModal},this.deleteAllNodesModal()),r.a.createElement(ie.a,{title:"Confirm Export",visible:this.state.showExportModal,className:"delete-modal",centered:!0,onOk:this.exportHandler,okText:"Generate",closable:!1,afterClose:function(){return document.body.style.removeProperty("overflow")},onCancel:this.toggleExportModal},r.a.createElement("p",null,"Generate export from ",r.a.createElement("b",null,this.props.user.displayName||"untitled"),"? The export will contain the profile picture, header, bio, along with all this user's nodes & associations, and appear in your starboard when it is completed. This may take a few minutes.")))),r.a.createElement(ot,null))))}}]),a}(n.Component),ht=W.object().shape({oldPassword:W.string().required("old password is required"),newPassword:W.string().min(5,"Password has to be longer than 6 characters!").required("password is required"),confirmNewPassword:W.string().required("please confirm new password").oneOf([W.ref("newPassword")],"Your passwords don't match")}),ft=W.object().shape({passwordValue:W.string().min(5,"Password has to be longer than 6 characters!").required("password is required"),confirmPassword:W.string().required("please confirm password").min(5,"Password has to be longer than 6 characters!").oneOf([W.ref("passwordValue")],"Your passwords don't match")}),Et=Object(s.b)((function(e){return{user:e.auth.user,mainSider:e.components.componentList.mainSider}}),{fetchUserByUsername:L,updateUserInfo:function(e){return function(){var t=Object(v.a)(b.a.mark((function t(a){var n,r;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:"UPDATE_USER_NODE"}),t.prev=1,t.next=4,k.patch("/user/info",{username:e.username,bio:e.bio,displayName:e.displayName});case 4:return n=t.sent,r=n.data.user,a({type:"UPDATE_USER_NODE_SUCCESS",user:r}),t.abrupt("return",r);case 10:t.prev=10,t.t0=t.catch(1),a({type:"UPDATE_USER_NODE_ERROR"}),g.a.error("Could not update user",1);case 14:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()},updateUserAvatar:function(e){return function(){var t=Object(v.a)(b.a.mark((function t(a){var n,r;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:"UPDATE_USER_AVATAR"}),t.prev=1,(n=new FormData).append("image",e),t.next=6,k.patch("/user/avatar",n,{headers:{"Content-Type":"multipart/form-data"}});case 6:if(200!==(r=t.sent).status){t.next=12;break}return a({type:"UPDATE_USER_AVATAR_SUCCESS",url:r.data.url}),t.abrupt("return",r.data.url);case 12:g.a.error("There was a problem uploading the image",1);case 13:t.next=19;break;case 15:t.prev=15,t.t0=t.catch(1),a({type:"UPDATE_USER_NODE_ERROR"}),g.a.error("There was a problem uploading the image",1);case 19:case"end":return t.stop()}}),t,null,[[1,15]])})));return function(e){return t.apply(this,arguments)}}()},updateUserHeader:function(e){return function(){var t=Object(v.a)(b.a.mark((function t(a){var n,r;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:"UPDATE_USER_HEADER"}),t.prev=1,(n=new FormData).append("image",e),t.next=6,k.patch("/user/header",n,{headers:{"Content-Type":"multipart/form-data"}});case 6:if(200!==(r=t.sent).status){t.next=12;break}return a({type:"UPDATE_USER_HEADER_SUCCESS",url:r.data.url}),t.abrupt("return",r.data.url);case 12:g.a.error("There was a problem uploading the image",1);case 13:t.next=19;break;case 15:t.prev=15,t.t0=t.catch(1),a({type:"UPDATE_USER_HEADER_ERROR"}),g.a.error("There was a problem uploading the image",1);case 19:case"end":return t.stop()}}),t,null,[[1,15]])})));return function(e){return t.apply(this,arguments)}}()},updateUsername:function(e){return function(){var t=Object(v.a)(b.a.mark((function t(a){var n,r;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:"UPDATE_USER_NODE"}),t.prev=1,t.next=4,k.patch("/user/username",{username:e});case 4:return n=t.sent,r=n.data.user,a({type:"UPDATE_USER_NODE_SUCCESS",user:r}),t.abrupt("return",r);case 10:t.prev=10,t.t0=t.catch(1),a({type:"UPDATE_USER_NODE_ERROR"}),g.a.error("Could not update user",1);case 14:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()},updateEmail:function(e){return function(){var t=Object(v.a)(b.a.mark((function t(a){var n,r;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:"UPDATE_USER_NODE"}),t.prev=1,t.next=4,k.patch("/user/email",{email:e});case 4:return n=t.sent,r=n.data.user,a({type:"UPDATE_USER_NODE_SUCCESS",user:r}),t.abrupt("return",r);case 10:t.prev=10,t.t0=t.catch(1),a({type:"UPDATE_USER_NODE_ERROR"}),g.a.error("Could not update user",1);case 14:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()},clearAllNodes:function(e){return function(){var t=Object(v.a)(b.a.mark((function t(a){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,k.patch("/user/clear",{password:e.passwordValue});case 3:200===t.sent.status&&(p.push("/"),g.a.success("successfully deleted all your data :)",3)),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0),g.a.error("There was a problem, please try again",1);case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},changePassword:function(e){return function(){var t=Object(v.a)(b.a.mark((function t(a){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,k.patch("/auth/password",{oldPassword:e.oldPassword,newPassword:e.newPassword});case 3:200===t.sent.status&&g.a.success("changed password",1),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),g.a.error("Could not update password",1);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},showComponent:q,generateInstanceExport:Y,hideComponent:V})(mt),gt=(a(148),B.a.Content),yt=function(e){return r.a.createElement(B.a,{className:"page-content"},r.a.createElement(gt,{style:{backgroundColor:"#272727"}},e.children))},bt=function(e){Object(f.a)(a,e);var t=Object(E.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){return r.a.createElement(B.a,{className:"page-layout"},r.a.createElement(xe,null),r.a.createElement(B.a,null,r.a.createElement(ge,null),r.a.createElement(yt,null)))}}]),a}(n.Component),vt=a(150),wt=a(77),Ot=a.n(wt),St=(a(593),function(e){Object(f.a)(a,e);var t=Object(E.a)(a);function a(e){var o;return Object(m.a)(this,a),(o=t.call(this,e)).infiniteScroll=function(e){var t=o.props.associations.length;o.endReached()&&o.props.activeNode&&t<o.props.totalNodes&&!o.props.isFetching&&(o.setState({topOfPage:!1}),o.props.fetchAssociations({page:o.props.page+1,nodeUUID:o.props.activeNode.uuid}))},o.endReached=function(){var e="innerHeight"in window?window.innerHeight:document.documentElement.offsetHeight,t=document.body,a=document.documentElement,n=Math.max(t.scrollHeight,t.offsetHeight,a.clientHeight,a.scrollHeight,a.offsetHeight),r=e+window.pageYOffset;return window.pageYOffset<1&&!o.props.isFetching&&!o.state.topOfPage&&(o.setState({topOfPage:!0}),o.props.fetchAssociations({page:1,nodeUUID:o.props.activeNode.uuid})),r>=n-733},o.renderNodes=function(){var e=o.props.associations;return null!==e?e.map((function(e){return r.a.createElement(We,{key:e.uuid,node:e,activeNode:o.props.activeNode})})):r.a.createElement(he,null)},o.renderList=function(){return o.props.totalNodes>0?r.a.createElement("ul",{style:{backgroundColor:"black"},className:"nodelist"},o.renderNodes()):o.props.totalNodes<0?r.a.createElement(n.Fragment,null):void 0},o.state={topOfPage:!1},o}return Object(h.a)(a,[{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.infiniteScroll)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.infiniteScroll)}},{key:"render",value:function(){return r.a.createElement("div",null,this.renderList(),r.a.createElement(nt,null))}}]),a}(n.Component)),Nt=Object(s.b)((function(e){return{associations:e.associations.associationList,isFetching:e.associations.isFetching,activeNode:e.nodes.activeNode,page:e.associations.associationListPage,totalNodes:e.associations.totalAssociationListItems}}),{searchNodes:_,fetchAssociations:H})(St),kt=(a(594),B.a.Content),Ct=function(e){Object(f.a)(a,e);var t=Object(E.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"onPaste",value:function(e){var t=this,a=window.pageYOffset,n=window.pageXOffset;if(!e.defaultPrevented&&this.quill.isEnabled()){var r=this.quill.getSelection(),o=(new j.a).retain(r.index);this.container.style.top=(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0).toString()+"px",this.container.focus(),setTimeout((function(){t.quill.selection.update(wt.Quill.sources.SILENT),o=o.concat(t.convert()).delete(r.length),t.quill.updateContents(o,wt.Quill.sources.USER),t.quill.setSelection(o.length()-r.length,wt.Quill.sources.SILENT);var e=t.quill.getBounds(o.length()-r.length,wt.Quill.sources.SILENT);t.quill.scrollingContainer.scrollTop=e.top,window.scrollTo({top:a,left:n})}),1)}}}]),a}(wt.Quill.import("modules/clipboard"));wt.Quill.register("modules/clipboard",Ct,!0);var jt,xt=function(e){Object(f.a)(a,e);var t=Object(E.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).ref=function(e){n.quill=e},n.componentDidUpdate=Object(v.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:document.querySelectorAll(".ql-picker").forEach((function(e){e.addEventListener("mousedown",(function(e){e.preventDefault(),e.stopPropagation()}))})),t=n.props.match.params.uuid,n.state.uuid!==t&&!1===n.state.initializing&&(n.setState({text:"",name:"",expanded:localStorage.getItem("expanded"),uuid:null,error:null,initializing:!0,readOnly:!0}),n.regeneratePreview(),n.initializeFromUrlParams());case 3:case"end":return e.stop()}}),e)}))),n.initializeFromUrlParams=Object(v.a)(b.a.mark((function e(){var t,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return window.scrollTo({top:0}),t=n.props.match.params.uuid,n.setState({uuid:t}),e.next=5,n.props.setActiveNode(t);case 5:n.props.nodeData&&n.props.nodeData.content?(document.title=n.props.nodeData.name||"Untitled",a=JSON.parse(n.props.nodeData.content),n.setState({text:a,name:n.props.nodeData.name,initializing:!1,readOnly:!1}),n.props.markNodeView(n.props.nodeData),n.quill.getEditor().history.clear(),n.props.fetchAssociations({nodeUUID:t})):(n.setState({error:!0}),n.props.history.push("/"));case 6:case"end":return e.stop()}}),e)}))),n.expandHandler=function(){null===n.state.expanded?(n.setState({expanded:"expanded"}),localStorage.setItem("expanded","expanded")):(n.setState({expanded:null}),localStorage.removeItem("expanded"))},n.exitHandler=Object(v.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.regeneratePreview(),n.props.history.push("/");case 2:case"end":return e.stop()}}),e)}))),n.regeneratePreview=function(){if(!n.state.deleting&&!n.state.error&&null!==n.state.uuid){var e=n.quill.getEditor().getText().substring(0,500);n.props.nodeData.preview=e,n.props.processTextNode({uuid:n.state.uuid,preview:e})}},n.selectLocalImage=function(){var e=document.createElement("input");e.setAttribute("type","file"),e.setAttribute("accept",["image/gif","image/jpg","image/jpeg","image/png"]),e.click(),e.onchange=Object(v.a)(b.a.mark((function t(){var a,r,o;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.files[0],!/^image\//.test(a.type)){t.next=9;break}return t.next=4,n.props.createFileNode(a,null,JSON.stringify(n.props.nodeData));case 4:r=t.sent,o=n.quill.getEditor().getSelection(),n.quill.getEditor().insertEmbed(o.index,"image",r),t.next=10;break;case 9:g.a.error("The file must be an image",1);case 10:case"end":return t.stop()}}),t)})))},n.isImageUrl=function(e){return new RegExp(/[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_+.~#?&//=]*)?/gi).test(e)},n.matcherImageHandler=function(e,t){var a=e.src;return(new j.a).insert({image:a})},n.modules={toolbar:{container:[[{header:[1,2,3,4,5,!1]}],[{font:[]}],[{indent:"-1"},{indent:"+1"}],["bold","italic","underline","strike"],[{color:["#fff","#bbbbbb","#272727","#df0000","#a80b44","#ff0062","#df1f95","#9933ff","#c06be2","#c8f0ae","#7fba00","#45d458","#31d697","#00dfd3","#67edff","#00a4ef","#4178df","#4d2ff7","#000080","#56007a","#007c25","#e2d58a","#f8cc52","#fff12b","#eb875f","#ff4500","#f40000","#a0390d"]},{background:[]}],[{align:null},{align:"center"},{align:"right"},{align:"justify"}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],["code-block","blockquote"],["link","image","video"],["clean"],["expand","exit"]],handlers:{expand:n.expandHandler,exit:n.exitHandler,image:n.selectLocalImage}},clipboard:{matchVisual:!1,matchers:[["img",n.matcherImageHandler]]}},n.allowedFormats=["header","font","indent","bold","italic","underline","strike","color","background","align","list","script","code-block","blockquote","link","image","video"],n.renderHeader=function(){if(null===n.state.expanded&&n.props.nodeData)return r.a.createElement(De,null)},n.state={text:"",name:"",expanded:localStorage.getItem("expanded"),uuid:null,error:null,initializing:!1,readOnly:!0},n.handleChange=n.handleChange.bind(Object(vt.a)(n)),n}return Object(h.a)(a,[{key:"componentDidMount",value:function(){document.body.style.overflow="auto",document.body.style.height="100%",document.documentElement.style.height="100%",document.querySelectorAll(".ql-picker").forEach((function(e){e.addEventListener("mousedown",(function(e){e.preventDefault(),e.stopPropagation()}))})),this.initializeFromUrlParams()}},{key:"handleChange",value:function(e,t,a,n){if(n.getContents()!==this.state.text&&!1===this.state.initializing){var r=JSON.stringify(n.getContents());this.props.editTextNode({uuid:this.props.match.params.uuid,content:r}),this.setState({text:e}),this.regeneratePreview()}}},{key:"componentWillUnmount",value:function(){document.body.style.overflow=null,document.body.style.height=null,document.documentElement.style.overflow=null,document.documentElement.style.height=null,window.getSelection().removeAllRanges()}},{key:"render",value:function(){var e=this;return this.props.isLoading?r.a.createElement(B.a,{className:"page-layout"},r.a.createElement(B.a,null,r.a.createElement(B.a,null,this.renderHeader(),r.a.createElement(he,null)))):r.a.createElement(B.a,{className:"page-layout"},r.a.createElement(kt,{className:"text-editor-content "+this.state.expanded},this.renderHeader(),r.a.createElement(Ot.a,{value:this.state.text,onChange:this.handleChange,modules:this.modules,ref:this.ref,readOnly:this.state.readOnly,formats:this.allowedFormats,scrollingContainer:"body",onBlur:function(t){t.target&&t.target.focus(),e.props.nodeData.preview.length<500&&e.regeneratePreview()}}),r.a.createElement(nt,null),r.a.createElement(Nt,null)))}}]),a}(n.Component),_t=Object(s.b)((function(e){return{nodeData:e.nodes.activeNode,isLoading:e.nodes.isFetching}}),{editTextNode:function(e){return function(){var t=Object(v.a)(b.a.mark((function t(a){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:"EDIT_TEXT_NODE"}),t.prev=1,t.next=4,k.patch("/text",{uuid:e.uuid,content:e.content});case 4:a({type:"EDIT_TEXT_NODE_SUCCESS",node:e}),t.next=12;break;case 7:t.prev=7,t.t0=t.catch(1),a({type:"EDIT_TEXT_NODE_ERROR"}),g.a.error("There was a problem saving your changes",1),p.push("/");case 12:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e){return t.apply(this,arguments)}}()},processTextNode:function(e){return function(){var t=Object(v.a)(b.a.mark((function t(a){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:"PROCESS_TEXT_NODE"}),t.prev=1,t.next=4,k.patch("/text/process",{uuid:e.uuid,preview:e.preview});case 4:a({type:"PROCESS_TEXT_NODE_SUCCESS",node:e,preview:e.preview}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),a({type:"PROCESS_TEXT_NODE_ERROR"});case 10:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e){return t.apply(this,arguments)}}()},createFileNode:function(e,t,a){return function(){var n=Object(v.a)(b.a.mark((function n(r){var o,i;return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r({type:"CREATE_FILE_NODE"}),n.prev=1,(o=new FormData).append("image",e),t&&o.append("name",t),a&&o.append("linkedNode",a),n.next=8,k.put("/file",o,{headers:{"Content-Type":"multipart/form-data"}});case 8:if(200!==(i=n.sent).status){n.next=14;break}return r({type:" CREATE_FILE_NODE_SUCCESS",payload:i.data.node}),n.abrupt("return",i.data.node.preview);case 14:g.a.error("There was a problem inserting the file",1);case 15:n.next=21;break;case 17:n.prev=17,n.t0=n.catch(1),r({type:"CREATE_FILE_NODE_ERROR"}),g.a.error("There was a problem inserting the file",1);case 21:case"end":return n.stop()}}),n,null,[[1,17]])})));return function(e){return n.apply(this,arguments)}}()},updateNode:A,setActiveNode:R,fetchAssociations:H,markNodeView:I})(xt),At=B.a.Footer,Dt=function(){return r.a.createElement(At,{className:"page-footer"})},Tt=function(e){Object(f.a)(a,e);var t=Object(E.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){return r.a.createElement(B.a,{className:"page-layout"},r.a.createElement(xe,null),r.a.createElement(B.a,null,r.a.createElement(yt,null,"Collections")),r.a.createElement(Dt,null))}}]),a}(n.Component),It=B.a.Content,Rt=B.a.Footer,Ft=function(e){Object(f.a)(a,e);var t=Object(E.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).onSubmit=function(t,a){(0,a.setSubmitting)(!1),e.props.createAccount(t)},e}return Object(h.a)(a,[{key:"componentDidMount",value:function(){document.title="Create Account"}},{key:"render",value:function(){return r.a.createElement(B.a,{className:"login-layout"},r.a.createElement(It,{className:"login-content"},r.a.createElement(G.a,{className:"login-card"},r.a.createElement(K.d,{initialValues:{email:"",password:"",confirmPassword:""},validationSchema:Ut,onSubmit:this.onSubmit},(function(e){var t=e.isSubmitting;return r.a.createElement(K.c,{className:"login-form"},r.a.createElement("h1",{className:"login-title"},r.a.createElement("span",{role:"img","aria-label":"jsx-a11y/accessible-emoji",style:{paddingRight:"0.5rem"}},"\u2728"),"create user",r.a.createElement("span",{role:"img","aria-label":"jsx-a11y/accessible-emoji",style:{paddingLeft:"0.5rem"}},"\u2728")),r.a.createElement(K.b,{type:"email",name:"email",placeholder:"email",className:"login-field"}),r.a.createElement(K.a,{name:"email",component:"div"}),r.a.createElement(K.b,{type:"username",name:"username",placeholder:"username",className:"login-field"}),r.a.createElement(K.a,{name:"username",component:"div"}),r.a.createElement(K.b,{type:"password",name:"password",placeholder:"password",className:"login-field"}),r.a.createElement(K.a,{name:"password",component:"div"}),r.a.createElement(K.b,{type:"password",name:"confirmPassword",placeholder:"confirm password",className:"login-field"}),r.a.createElement(K.a,{name:"confirmPassword",component:"div"}),r.a.createElement("button",{type:"submit",disabled:t,className:"login-submit"},"create account"),r.a.createElement(Q.a,{to:"/",style:{textAlign:"center"},className:"login-signup"},"back to login"))})))),r.a.createElement(Rt,null))}}]),a}(n.Component),Ut=W.object().shape({email:W.string().email("E-mail is not valid!").required("email is required"),username:W.string().required("username is required"),password:W.string().min(5,"Password has to be longer than 6 characters!").required("password is required"),confirmPassword:W.string().required("please confirm password").oneOf([W.ref("password")],"Your passwords don't match")}),Lt=Object(s.b)((function(e){return{isSignedIn:e.auth.isSignedIn}}),{createAccount:function(e){return function(){var t=Object(v.a)(b.a.mark((function t(a){var n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:"CREATE_ACCOUNT"}),t.prev=1,t.next=4,k.put("/auth/signup",e);case 4:n=t.sent,localStorage.setItem("displayName",n.data.displayName),a({type:"CREATE_ACCOUNT_SUCCESS",payload:n.data}),p.push("/"),t.next=15;break;case 10:t.prev=10,t.t0=t.catch(1),a({type:"CREATE_ACCOUNT_ERROR"}),g.a.error("There was a problem creating the account",1),p.push("/");case 15:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()}})(Ft),Pt=(a(595),function(e){return r.a.createElement(n.Fragment,null,function(){if(e.node)return r.a.createElement(Ke,{type:e.node.type,element:"full",node:e.node})}())}),Ht=B.a.Content,Mt=function(e){Object(f.a)(a,e);var t=Object(E.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).initializeFromUrlParams=Object(v.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props.match.params.uuid,window.scrollTo({top:0}),e.next=4,n.props.setActiveNode(t);case 4:return null!==n.props.activeNode&&n.props.markNodeView(n.props.activeNode),e.next=7,n.props.fetchAssociations({nodeUUID:t});case 7:null!==n.props.associations&&null!==n.props.activeNode?(n.setState({initialized:!0,uuid:t}),n.props.activeNode.type&&"collection"===n.props.activeNode.type&&n.regenerateCollectionPreview(n.props.activeNode,n.props.associations),document.title=n.props.activeNode.name):(g.a.error("there was a problem loading the associations"),n.props.history.push("/"));case 8:case"end":return e.stop()}}),e)}))),n.regenerateCollectionPreview=function(){var e=Object(v.a)(b.a.mark((function e(t,a){var r,o,i;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{if(t&&a){for(r=0,i=[];r<a.length&&i.length<4;)"collection"!==(o=a[r]).type&&"user"!==o.type&&i.push({type:o.type,preview:o.preview}),r++;n.props.updateNode({uuid:t.uuid,preview:JSON.stringify(i)})}}catch(l){n.props.history.push("/")}case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),n.renderNode=function(){return null!==n.state.uuid&&n.state.uuid===n.props.activeNode.uuid?r.a.createElement(Pt,{node:n.props.activeNode}):r.a.createElement(he,null)},n.renderMainSider=function(){if(n.props.mainSider)return r.a.createElement(ge,null)},n.state={initialized:!1,uuid:null},n}return Object(h.a)(a,[{key:"componentDidMount",value:function(){this.state.initialized||this.initializeFromUrlParams()}},{key:"componentDidUpdate",value:function(){var e=this.props.match.params.uuid;this.state.initialized&&this.state.uuid!==e&&(this.setState({initialized:!1}),this.initializeFromUrlParams())}},{key:"componentWillUnmount",value:function(){this.props.clearActiveNode()}},{key:"render",value:function(){return r.a.createElement(B.a,{className:"page-layout"},this.renderMainSider(),r.a.createElement(B.a,null,r.a.createElement(Ht,{style:{paddingTop:"0",backgroundColor:"black",minHeight:"100vh"}},r.a.createElement(xe,null),r.a.createElement("div",{className:"list-container"},this.renderNode()),r.a.createElement(Nt,null))))}}]),a}(n.Component),qt=Object(s.b)((function(e){return{associations:e.associations.associationList,isLoading:e.nodes.isFetching,activeNode:e.nodes.activeNode,mainSider:e.components.componentList.mainSider,isDeleting:e.nodes.isDeleting}}),{setActiveNode:R,clearActiveNode:F,fetchAssociations:H,markNodeView:I,updateNode:A})(Mt),Vt=a(308),Yt=a(607),zt=a(609),Gt=a(218),Bt=a(603),Qt=a(608),Kt=a(604),Wt=a(605),Xt=a(606),Jt=a(215),Zt=(a(596),B.a.Content),$t=function(e){Object(f.a)(a,e);var t=Object(E.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).initializeFromUrlParams=Object(v.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props.match.params.uuid,e.next=3,n.props.fetchGraphData({anchorNode:t,type:n.props.query.type,searchQuery:n.props.query.searchQuery});case 3:if(null===n.props.graphData){e.next=13;break}if(n.setState({initialized:!0,uuid:t}),n.renderGraph(),!t){e.next=11;break}return e.next=9,n.props.setActiveNode(t);case 9:return e.next=11,n.props.fetchAssociations({nodeUUID:t});case 11:e.next=15;break;case 13:g.a.error("there was a problem loading the data"),n.props.history.push("/");case 15:case"end":return e.stop()}}),e)}))),n.renderMainSider=function(){if(n.props.mainSider)return r.a.createElement(ge,null)},n.renderAssociationSider=function(){if(n.props.associationSider)return r.a.createElement(nt,null)},n.renderAssociationList=function(){if(n.props.associations&&n.props.associations.length>0&&n.props.activeNode)return r.a.createElement(Nt,null)},n.renderGraph=Object(v.a)(b.a.mark((function e(){var t,a,r,o,i,l,s,c,u,d,p,m,h;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h=function(e){var t=e.transform;u.attr("transform",t)},t=n.props.graphData.nodes,a=n.props.graphData.associations,r=window.innerHeight,o=window.innerWidth,23,i=Object(Gt.a)(t).force("link",Object(Bt.a)(a).id((function(e){return e.id}))).force("charge",Object(Qt.a)().strength(-7e5/t.length)).force("x",Object(Kt.a)()).force("y",Object(Wt.a)()).force("center",Object(Xt.a)()),l=Jt.b.scale(.17).translate(0,-15),s=Object(Jt.a)().scaleExtent([.1,1.7]).on("zoom",h),c=Object(Vt.a)(n.node).append("svg").attr("class","graph-svg").attr("viewBox",[-o/2,-r/2,o,r]).on("contextmenu",(function(e){e.preventDefault()})),u=c.append("g"),d=u.append("g").attr("stroke","white").attr("stroke-opacity",.7).selectAll("line").data(a).join("line").attr("class","graph-link").attr("stroke-width",(function(e){return Math.sqrt(e.value)})),p=u.append("g").selectAll("circle").data(t).join("g").call(n.drag(i)).append("circle").on("contextmenu",(function(e,t){e.preventDefault(),window.location.replace("/graph/"+t.uuid)})).on("dblclick",(function(e,t){e.preventDefault(),"text"===t.type?window.location.replace("/edit/text/"+t.uuid):"user"===t.type?window.location.replace("/profile/".concat(n.props.user.username)):window.location.replace("/associations/"+t.uuid)})).attr("r",23).attr("cursor","none").attr("fill","#16e998").attr("class","graph-node"),m=Object(Yt.a)("g g g").append("text").text((function(e){return e.name.substring(0,100)})).attr("font-size","0.8rem").attr("cursor","grab").attr("class","graph-text"),c.call(s).call(s.transform,l),i.on("tick",(function(){d.attr("x1",(function(e){return e.source.x})).attr("y1",(function(e){return e.source.y})).attr("x2",(function(e){return e.target.x})).attr("y2",(function(e){return e.target.y})),p.attr("cx",(function(e){return e.x})).attr("cy",(function(e){return e.y})),m.attr("x",(function(e){return e.x+23})).attr("y",(function(e){return e.y-23}))})),e.abrupt("return",c.node());case 17:case"end":return e.stop()}}),e)}))),n.drag=function(e){return Object(zt.a)().on("start",(function(t,a){Object(Vt.a)(this).raise(),document.body.style.cursor="none",t.active||e.alphaTarget(.3).restart(),a.fx=a.x,a.fy=a.y})).on("drag",(function(e,t){document.body.style.cursor="none",t.fx=e.x,t.fy=e.y})).on("end",(function(t,a){t.active||e.alphaTarget(0),a.fx=null,a.fy=null,window.setTimeout((function(){document.body.style.cursor="auto"}),333)}))},n.state={initialized:!1,uuid:null},n}return Object(h.a)(a,[{key:"componentDidMount",value:function(){document.title="constellation",this.state.initialized||this.initializeFromUrlParams()}},{key:"componentDidUpdate",value:function(){var e=this.props.match.params.uuid;this.state.initialized&&this.state.uuid!==e&&(this.setState({initialized:!1}),this.initializeFromUrlParams())}},{key:"render",value:function(){var e=this;return r.a.createElement(B.a,{className:"page-layout"},this.renderMainSider(),this.renderAssociationSider(),r.a.createElement(B.a,null,r.a.createElement(Zt,{style:{paddingTop:"0"}},r.a.createElement(xe,null),r.a.createElement("div",{className:"graph-container",ref:function(t){return e.node=t}}),this.renderAssociationList())))}}]),a}(n.Component),ea=Object(s.b)((function(e){return{associations:e.associations.associationList,user:e.auth.user,activeNode:e.nodes.activeNode,graphData:e.graph.graphData,loading:e.graph.isFetching,associationSider:e.components.componentList.associationSider,mainSider:e.components.componentList.mainSider,nodeList:e.nodes.nodeList,query:e.nodes.query,isFetching:e.nodes.isFetching}}),{fetchNodes:x,showComponent:q,fetchGraphData:function(e){return function(){var t=Object(v.a)(b.a.mark((function t(a){var n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"FETCH_GRAPH_DATA"}),t.next=4,k.get("/node/graph",{params:{anchorNode:e.anchorNode,type:e.type,searchQuery:e.searchQuery}});case 4:n=t.sent,a({type:"FETCH_GRAPH_DATA_SUCCESS",payload:n.data,query:e}),t.next=14;break;case 8:t.prev=8,t.t0=t.catch(0),a({type:"FETCH_GRAPH_DATA_ERROR"}),a({type:"RESET_APP"}),g.a.error("Could not fetch items",1),p.push("/");case 14:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},fetchAssociations:H,setActiveNode:R})($t),ta=(a(597),B.a.Content),aa=function(e){Object(f.a)(a,e);var t=Object(E.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).renderMainSider=function(){if(e.props.mainSider)return r.a.createElement(ge,null)},e}return Object(h.a)(a,[{key:"componentDidMount",value:function(){document.title="Help",document.body.style.removeProperty("overflow")}},{key:"render",value:function(){return r.a.createElement(B.a,{className:"page-layout"},r.a.createElement(B.a,null,this.renderMainSider(),r.a.createElement(ta,{style:{minHeight:"100vh",backgroundColor:"#e0dcc7",textAlign:"left"}},r.a.createElement("div",{style:{position:"fixed",width:"100%"}},r.a.createElement(xe,null)),r.a.createElement("div",{className:"help-container",style:{padding:"5.7rem 17rem 1rem"}},r.a.createElement("h2",{style:{fontSize:"2rem"}},"Help Page"),r.a.createElement("p",null,"Hello there! Welcome to the help page! This is where you can get the help you need, so you can rest easy. Allow me to explain exactly what is going on here. First things first, you are on the help page! It's a nice place to hang out. There's all kinds of wonderful things you learn while you are here!"),r.a.createElement("h2",null,"Keyboard Shortcuts"),r.a.createElement("p",null,"For now the main keyboard shortcuts, which currently only work in the core app (not in tabs you open in your web browser) are as follows:"),r.a.createElement("ul",null,r.a.createElement("li",null,"CMD/CTRL+G - jump to the graph constellation browser"),r.a.createElement("li",null,"CMD/CTRL+H - jump to the home page"),r.a.createElement("li",null,"CMD/CTRL+J - jump to starboard"),r.a.createElement("li",null,"CMD/CTRL+OPTION/ALT+1 - save the current node to the quick menu"),r.a.createElement("li",null,"CMD/CTRL+1 - jump to #1 on the quick menu if you have saved something there"),r.a.createElement("li",null,"Quick-Menu - the quick menu will also work with the number keys 1-9")),r.a.createElement("h2",null,"What is Yarnpoint?"),r.a.createElement("p",null,'Yarnpoint is a way of being & thinking. Yarnpoint allows you to create, explore, and share networks made out of content! You can use Yarnpoint for whatever you want, some ideas include "building a mind palace, storing URL bookmarks, exploring your filesystem, thinking, note-taking, as a memory-expansion for your brain, for world-building, planning, and so forth...there are few limits!" That might sound overwhelming but it\'s really not so bad once you get familiar. Yarnpoint tries its best not to make any changes to your computer outside of itself, so feel free to click around & experiment, that is the best way to learn after all!'),r.a.createElement("h2",null,"What are nodes and associations?"),r.a.createElement("p",null,"Yarnpoint is premised on the idea that all content is a ",r.a.createElement("i",null,"node")," which can be associated, connected, related, to any other piece of content. A connection between any two pieces of content is called an ",r.a.createElement("i",null,"association"),". If you understand these two ideas, you understand Yarnpoint! That's all there is to it, the rest is just building on these two assumptions."),r.a.createElement("h2",null,"What should I do first?"),r.a.createElement("p",null,"You can start by uploading or creating some content, you do this by clicking the white circular button at the top of the page. This will transform it into a plus sign and put the IO bar into ",r.a.createElement("i",null,"create-mode"),"."),r.a.createElement("p",null,"From there, to the left of the input field there is a dropdown menu which contains some content types. You can select one of those which will prepare the IO bar to create that content. For most content types you can type a name for the node you're about to create into the input field and it will automatically be added to the generated node. The exception is urls which don't allow a name on creation since you have to paste the url into that space instead. To finish creating a node, hit enter in the input bar or click the button to the right side of the text input. That's it! Now it's in the system."),r.a.createElement("h2",null,"The Graph Constellation Browser"),r.a.createElement("p",null,'The Graph Browser, sometimes known as the Constellation browser, is one way to browse through your nodes and associations! You can get there clicking the "graph" icon ',r.a.createElement(se.a,{type:"deployment-unit",theme:"outlined"}),' on any node, on the IO bar, or by clicking the "graph" option from the main menu. If you click it from a specific node, you\'ll see the associations for that node and their relationships to each other displayed. Accessing it from the IO bar or options menu will instead show a list of the most recently accessed nodes! Once you are in the constellation browser you can zoom in and out by scrolling up and down, jump to a node by double clicking it, or jump through the graph browser by right clicking on a node.'),r.a.createElement("h2",null,"What are do all these icons mean?"),r.a.createElement("p",null,"If you hover over most icons for a couple of seconds a tooltip should show up which explains what the button does, but I've written out a guide here as well so you can be confident of what your clicks will accomplish."),r.a.createElement("h3",null,"Associations ",r.a.createElement(se.a,{type:"branches",theme:"outlined"})),r.a.createElement("p",null,"This is the associations icon. It mostly appears on node cards in the node explorer. Clicking it will typically bring up a menu which lists the associations for a given node and allows you to add new ones."),r.a.createElement(se.a,{type:"branches",theme:"outlined",className:"help-icon"}),r.a.createElement("h3",null,"Light Bulb ",r.a.createElement(se.a,{type:"bulb",theme:"outlined"})),r.a.createElement("p",null,'The light bulb is the universal symbol for having a good idea, which is why it was chosen as the "good idea" button. Whenever you click the light bulb icon the node in question will be marked as viewed, bumped, jumped to the top of the page. You can click this button as much as you want and nothing bad will happen!'),r.a.createElement(se.a,{type:"bulb",theme:"outlined",className:"help-icon"}),r.a.createElement("h3",null,"Graph Icon ",r.a.createElement(se.a,{type:"deployment-unit",theme:"outlined"})),r.a.createElement("p",null,"This icon will take you to the graph constellation browser! I'll explain more about that a little later."),r.a.createElement(se.a,{type:"deployment-unit",theme:"outlined",className:"help-icon"}),r.a.createElement("h3",null,"Star ",r.a.createElement(se.a,{type:"star",theme:"outlined"})),r.a.createElement("p",null,"This button will allow you to pin a node to your starboard! The Starboard is a sort of top-level root page, but you can think of it as one of those tackboards you would use pushpins on in real life to hang sticky notes on! Store stuff on the starboard for a short time or a long time, it's up to you!"),r.a.createElement(se.a,{type:"star",theme:"outlined",className:"help-icon"}),r.a.createElement("h3",null,"Open In Browser ",r.a.createElement(se.a,{type:"global",theme:"outlined"})),r.a.createElement("p",null,"This button will open the active node in your default web browser! This is useful for various reasons, like if you want to run the application in your browser as a tab, if you wanted to save images or files into your downloads folder, or as a way to manage additional Yarnpoint tabs."),r.a.createElement(se.a,{type:"global",theme:"outlined",className:"help-icon"}),r.a.createElement("h3",null,"Visible ",r.a.createElement(se.a,{type:"eye",theme:"outlined"})),r.a.createElement("p",null,"Clicking this icon allows you to toggle whether a node is visible on the homepage or not. Nodes which are hidden from the homepage will only be accessible through their associations. This allows you to hide content behind other content."),r.a.createElement(se.a,{type:"eye",theme:"outlined",className:"help-icon"}),r.a.createElement("h3",null,"Searchable ",r.a.createElement(se.a,{type:"search",theme:"outlined"})),r.a.createElement("p",null,"Clicking this icon allows you to toggle whether a node will appear in a search or not."),r.a.createElement(se.a,{type:"search",theme:"outlined",className:"help-icon"}),r.a.createElement("h3",null,"Image Picker & Replacer ",r.a.createElement(se.a,{type:"picture",theme:"outlined"})),r.a.createElement("p",null,'Clicking this is contextual, but has to do with picking or replacing an image on a node. In URL nodes, you can replace the node\'s preview image with the URL of any image from the internet or from elsewhere in Yarnpoint (right click and "copy image address" to get replacement images). In File nodes, for the time being at least, this icon will allow you to pick a file from your filesystem to use as the preview image. LONG STORY SHORT...The Picture Icon has to do with customization of pictures & images! Experiment with it to customize appearances!'),r.a.createElement(se.a,{type:"picture",theme:"outlined",className:"help-icon"}),r.a.createElement("h3",null,"Show in Folder ",r.a.createElement(se.a,{type:"folder-open",theme:"outlined"})),r.a.createElement("p",null,"This icon appears on nodes which are files...Clicking it will show the file in the folder! This is really handy because it means Yarnpoint can be used to create shortcuts to specific files in your filesystem."),r.a.createElement(se.a,{type:"folder-open",theme:"outlined",className:"help-icon"}),r.a.createElement("h3",null,"Delete ",r.a.createElement(se.a,{type:"delete",theme:"outlined"})),r.a.createElement("p",null,"This is the garbage can, it lets you put delete nodes from the system!"),r.a.createElement(se.a,{type:"delete",theme:"outlined",className:"help-icon"}),r.a.createElement("h3",null,"Exports ",r.a.createElement(se.a,{type:"save",theme:"outlined"})),r.a.createElement("p",null,"Exports allow you to share nodes and their associations between computers as"," ",r.a.createElement("i",null,".synth")," files, which can be re-imported by anyone into any Yarnpoint instance on any computer. These files are represented within Yarnpoint by this"," ",r.a.createElement(se.a,{type:"save",theme:"outlined"})," icon. If you click this icon on a node in your system, it will generate an export based on the node you clicked it from. Exports contain the node in question, all the nodes associated with it, and their associations with each other. More specificity in exports is a planned feature for the future as well."),r.a.createElement("p",null,'If you have created or imported a Yarnpoint export into your Yarnpoint instance, you will see this icon on the export page. Clicking it will "unpack" the export, importing all the nodes and associations it contains into your profile. Once you click this, it will be replaced by an "undo" ',r.a.createElement(se.a,{type:"undo",theme:"outlined"})," ",'icon which will allow you to "repack" the export. The undo option will delete all the nodes which unpacking created, which makes unpacking a reversible operation. Be warned however! If you have made changes to any of the nodes you imported they will still be removed (at least that\'s how it works right now).'),r.a.createElement("p",null,"Sythona Exports are great for all kinds of things...sharing your thoughts with others, sharing files for a project, sharing photo albums, and more! If you're a developer, you may also be interested to know that these exports are largely just JSON which means you could potentially integrate them with other software."),r.a.createElement(se.a,{type:"save",theme:"outlined",className:"help-icon"}),r.a.createElement("h2",null,"How do I edit the name of a node?"),r.a.createElement("p",null,"If you double click the title it should turn into an editable text field."),r.a.createElement("h2",null,"How do files work starting in Yarnpoint 1.2.3?"),r.a.createElement("p",null,"Starting with version 1.2.3, it is possible to link files in your filesystem to Yarnpoint by creating file nodes. File nodes existed before, but they didn't do much. Starting with version 1.2.3, it is possible to open certain file types (photoshop projects, .txt files, word documents, images, .mp3s, .pdfs, 3D models, and so forth) in their default program directly from Yarnpoint! The way this works is pretty straightforward...Once you create a file node you can either right click the node card to launch the file, or click through to the landing page to launch."),r.a.createElement("p",null,"When you delete a file node, it will not delete the file itself, only the node in Yarnpoint. You should know however, that if you imported a node into Yarnpoint from a .synth export and delete the node, it WILL delete the file...Why this difference? The idea is basically that Yarnpoint cleans up after itself. If it creates a file, it will delete it, but if YOU created the file, Yarnpoint will not delete it."),r.a.createElement("p",null,"In other words, Yarnpoint will not mess with your stuff! If you want to keep imported files long-term it is recommended that you copy them out of the import-location into a better place!"),r.a.createElement("h2",null,"Context Actions starting in Yarnpoint 1.2.3"),r.a.createElement("p",null,'Starting with version 1.2.3, certain node types now have special actions which are automatically launched when you "right-click" a node. URLS will open in your browser when you right click them, files will open in their default program, text nodes will take you to their page in the association browser rather than to the editor...Give it a try and see how it goes! In the future this may be made configurable.'),r.a.createElement("h2",null,"Help! I hid a node from both search and the explore page. How do I find it again?"),r.a.createElement("p",null,"No problem! The way to find your lost node is to set another node, preferably a well-connected one, temporarily to ",r.a.createElement("i",null,"hidden from explore")," by clicking the"," ",r.a.createElement(se.a,{type:"eye",theme:"outlined"})," icon so it toggles to"," ",r.a.createElement(se.a,{type:"eye-invisible",theme:"outlined"}),". Now, from that well-connected node which you've hidden from the explore page, go to add a new association. It is possible to associate hidden nodes to other hidden nodes, and so you should be able to associate to it and find it again that way."),r.a.createElement("h2",null,"Is my data being backed up anywhere?"),r.a.createElement("p",null,'Only in the app database which is stored on your computer. If you want to save a copy of your data elsewhere, you can generate manual backups as often as you want through the export functionality. If you go to the options menu there is a button labeled "export all user data". This will put all your nodes and associations into a .synth file which will be added to your homepage. You can then click through to download that file. That .synth file containing all your data can be imported back in later, onto a version on another computer, or stored as a backup. Also, although it\'s not really designed for this, you could break the .synth file open to get at the files themselves. If you need to get at the specific files in there, you can change the file extension from .synth to .zip which should allow your computer to de-compress the archive although some of the files might have...computery...names.'),r.a.createElement("h2",null,"Where is the data stored on my computer?"),r.a.createElement("p",null,"Your data is stored in your user data folder. This will be different depending on your operating system, but you can see the specific folder by click 'advanced' in the top menu bar and 'show config'. The folder containing the config file also contains some core app files along with the core 'data' folder and sqlite database. You shouldn't have to ever mess with any of this unless you are a developer or you really know what you are doing, as it is possible to break the app if you start to mess with stuff in there!"),r.a.createElement("h2",null,"Context Actions starting in Yarnpoint 1.2.3"),r.a.createElement("p",null,'Starting with version 1.2.3, certain node types now have special actions which are automatically launched when you "right-click" a node. URLS will open in your browser when you right click them, files will open in their default program, text nodes will take you to their page in the association browser rather than to the editor...Give it a try and see how it goes! In the future this may be made configurable.'),r.a.createElement("h2",null,"What is the license, do you accept pull requests?"),r.a.createElement("p",null,"Yarnpoint is an open-source project and is licensed under GPLv3 which means if you want to take things into your own hands you're free to fork the project, but I am also more than willing to hear out your concerns and try to implement changes myself if I can or accept pull requests if they fit the project roadmap! There is a very clear vision for where the app is headed, but suggestions are still welcome. The goal here is to make something which benefits as many people as possible. If you're interested in taking a look at the code feel free to check out the project on"," ",r.a.createElement("a",{href:"https://www.github.com/Yarnpoint",target:"_blank",rel:"noopener noreferrer"},"github"),"!"),r.a.createElement("h2",null,"How do I get the latest update?"),r.a.createElement("p",null,"Easy! Just go to"," ",r.a.createElement("a",{href:"https://Yarnpoint.itch.io/Yarnpoint",target:"_blank",rel:"noopener noreferrer"},"Yarnpoint.itch.io"),", ","download the latest version, and install it! All your data will carry over, all you have to do is close the app, and run the installer for the new version. Because the data is stored outside the app, you can overwrite the old version with the new version without fear. If you're the type to worry, it couldn't hurt to make a little backup before updating just in case, but we do test everything before releasing as well! It's worth updating eventually, because updates often add new features which expand functionality."),r.a.createElement("p",null,"At some undecided point in the future we would like to add automatic updates, but unfortunately microsoft charges like $300 for a certificate to allow you to do that, and Mac has similar restrictions. A workaround may be possible, but we haven't gotten around to that yet. Maybe someday! For now updates are manual."),r.a.createElement("h2",null,"I want to financially support development, what should I do?"),r.a.createElement("p",null,"There is a"," ",r.a.createElement("a",{href:"https://www.patreon.com/Yarnpoint",target:"_blank",rel:"noopener noreferrer"},"patreon")," ","or you can donate at"," ",r.a.createElement("a",{href:"https://Yarnpoint.itch.io/Yarnpoint",target:"_blank",rel:"noopener noreferrer"},"Yarnpoint.itch.io")," ","where you downloaded the app originally, and I may add more options in the future. We have a lot of ideas for improvements to this application including things like P2P features, automatic updates, theme support, plugin support, a lot of other node types, maps, web-features, analytics, social features, 3D features, LAN connections between instances, and so much more, but we can't afford to work on features full time at the moment. This project was originally designed to function as a distrubuted P2P social network, but there is still a lot of work to be done before that is possible and funding would allow me to work on that and other features including a phone application. If we get enough funding I would like to eventually found a worker-owned democratic co-op organization around the project!"),r.a.createElement("p",null,"I am also hoping to add some Patreon bonuses like a Discord, custom icons for Yarnpoint (other colors than yellow for example), and more, but you should know that I have just been so busy that this has fallen into the background...never fear! It is on my long to-do list. If this sort of thing sounds interesting to you, feel free to say something on"," ",r.a.createElement("a",{href:"https://www.twitter.com/Yarnpoint",target:"_blank",rel:"noopener noreferrer"},"twitter")," ","about it or reach out to the Yarnpoint email account, and I could maybe bump it up as a priority! User feedback does play a role in what I decide to work on."),r.a.createElement("h2",null,"I have a bug report, feature request, or other inquiry?"),r.a.createElement("p",null,"Please send an email to"," ",r.a.createElement("a",{href:"mailto:synthona@gmail.com",target:"_blank",rel:"noopener noreferrer",type:"email"},"synthona@gmail.com")," ","or reach out on"," ",r.a.createElement("a",{href:"https://www.twitter.com/synthona",target:"_blank",rel:"noopener noreferrer"},"twitter")," ","and we will get things sorted out as soon as possible!")))))}}]),a}(n.Component),na=Object(s.b)((function(e){return{isSignedIn:e.auth.isSignedIn,mainSider:e.components.componentList.mainSider}}))(aa),ra=function(e){Object(f.a)(a,e);var t=Object(E.a)(a);function a(e){var o;return Object(m.a)(this,a),(o=t.call(this,e)).infiniteScroll=function(e){o.endReached()&&!o.props.isFetching&&(o.setState({topOfPage:!1}),o.props.fetchNodes({page:o.props.query.page+1,type:o.props.query.type,searchQuery:o.props.query.searchQuery,pinned:!0}))},o.endReached=function(){var e="innerHeight"in window?window.innerHeight:document.documentElement.offsetHeight,t=document.body,a=document.documentElement,n=Math.max(t.scrollHeight,t.offsetHeight,a.clientHeight,a.scrollHeight,a.offsetHeight),r=e+window.pageYOffset;return window.pageYOffset<1&&!o.props.isFetching&&!o.state.topOfPage&&(o.setState({topOfPage:!0}),o.props.fetchNodes({page:1,type:o.props.query.type,searchQuery:o.props.query.searchQuery,pinned:!0})),r>=n-733},o.renderPinList=function(){var e=o.props.nodes;return null!==e?e.map((function(e){return e.uuid?r.a.createElement(We,{key:e.uuid,node:e}):r.a.createElement(n.Fragment,null)})):r.a.createElement(he,null)},o.state={topOfPage:!1},o}return Object(h.a)(a,[{key:"componentDidMount",value:function(){this.props.fetchNodes({page:1,type:this.props.query.type,searchQuery:this.props.query.searchQuery,pinned:!0}),window.addEventListener("scroll",this.infiniteScroll)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.infiniteScroll)}},{key:"render",value:function(){return r.a.createElement("div",{className:"nodelist-container"},r.a.createElement("ul",{className:"nodelist"},this.renderPinList()),r.a.createElement(nt,null))}}]),a}(n.Component),oa=Object(s.b)((function(e){return{nodes:e.nodes.nodeList,query:e.nodes.query,totalNodes:e.nodes.totalItems,isFetching:e.nodes.isFetching}}),{fetchNodes:x})(ra),ia=B.a.Header,la=we.a.Option,sa=function(e){Object(f.a)(a,e);var t=Object(E.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).toggleMainSider=Object(v.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.props.mainSider?n.props.hideComponent("mainSider"):n.props.showComponent("mainSider");case 1:case"end":return e.stop()}}),e)}))),n.commandHandler=function(){return n.props.searchNodes({searchQuery:n.state.input,type:n.state.nodeTypes})},n.renderSelectBefore=function(){return r.a.createElement(we.a,{showSearch:!0,showArrow:!1,value:n.state.nodeTypes,onChange:function(e){return n.setState({nodeTypes:e})}},r.a.createElement(la,{value:"all"},"all"),r.a.createElement(la,{value:"url"},"urls"),r.a.createElement(la,{value:"text"},"text"),r.a.createElement(la,{value:"file"},"file"),r.a.createElement(la,{value:"image"},"images"),r.a.createElement(la,{value:"collection"},"collections"))},n.state={input:n.props.query.searchQuery||"",nodeTypes:n.props.query.type||"all"},n}return Object(h.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(ia,{className:"page-header"},r.a.createElement("ul",{className:"nav-list",style:{width:"auto",justifyContent:"left",marginLeft:"1.1rem"}},r.a.createElement("li",{className:"nav-item io-sider-button mobile-visible",style:{marginRight:"0"}},r.a.createElement(be.a,{type:"default",shape:"circle",onClick:function(t){return e.toggleMainSider()}},r.a.createElement(se.a,{type:"bars",theme:"outlined"}))),r.a.createElement("li",{className:"nav-item io-sider-button",style:{marginRight:"0.5rem"}},r.a.createElement(Q.a,{type:"default",to:"/graph"},r.a.createElement(se.a,{type:"deployment-unit",theme:"outlined"}))),r.a.createElement("li",{className:"nav-item io-sider-button"},r.a.createElement(Q.a,{type:"default",to:"/"},r.a.createElement(se.a,{type:"home",theme:"filled"}))),r.a.createElement("li",{className:"nav-item"},r.a.createElement("p",{style:{color:"grey",paddingLeft:"0.7rem"}},"starboard")))))}}]),a}(n.Component),ca=Object(s.b)((function(e){return{user:e.auth.user,query:e.nodes.query,mainSider:e.components.componentList.mainSider,activeNode:e.nodes.activeNode}}),{signOut:U,searchNodes:_,createNode:D,createUrlNode:T,showComponent:q,hideComponent:V})(sa),ua=B.a.Content,da=function(e){Object(f.a)(a,e);var t=Object(E.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).renderMainSider=function(){if(e.props.mainSider)return r.a.createElement(ge,null)},e}return Object(h.a)(a,[{key:"componentDidMount",value:function(){document.title="pins",document.body.style.removeProperty("overflow"),window.scrollTo({top:0,behavior:"smooth"})}},{key:"render",value:function(){return r.a.createElement(B.a,{className:"page-layout"},r.a.createElement(B.a,null,this.renderMainSider(),r.a.createElement(ua,{style:{minHeight:"100vh"}},r.a.createElement(ca,null),r.a.createElement("div",{className:"list-container"},r.a.createElement(oa,null)))))}}]),a}(n.Component),pa=Object(s.b)((function(e){return{isSignedIn:e.auth.isSignedIn,mainSider:e.components.componentList.mainSider}}))(da),ma=function(e){Object(f.a)(a,e);var t=Object(E.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"componentDidMount",value:function(){null===this.props.isAuth&&this.props.isAuthenticated()}},{key:"render",value:function(){var e;return e=this.props.isAuth?r.a.createElement(l.c,null,r.a.createElement(l.a,{path:"/",exact:!0,component:st}),r.a.createElement(l.a,{path:"/profile/:username",exact:!0,component:dt}),r.a.createElement(l.a,{path:"/activity",exact:!0,component:bt}),r.a.createElement(l.a,{path:"/collections",exact:!0,component:Tt}),r.a.createElement(l.a,{path:"/edit/text/:uuid",exact:!0,component:_t}),r.a.createElement(l.a,{path:"/edit/profile",exact:!0,component:Et}),r.a.createElement(l.a,{path:"/associations/:uuid",exact:!0,component:qt}),r.a.createElement(l.a,{path:"/graph/:uuid?",exact:!0,component:ea}),r.a.createElement(l.a,{path:"/pins",exact:!0,component:pa}),r.a.createElement(l.a,{path:"/help",exact:!0,component:na})):this.props.isFetchingAuth?r.a.createElement(he,null):r.a.createElement(l.c,null,r.a.createElement(l.a,{path:"/",exact:!0,component:ee}),r.a.createElement(l.a,{path:"/create-account",exact:!0,component:Lt}),r.a.createElement(l.a,{path:"/forgot-password",exact:!0,component:oe}),r.a.createElement(l.a,{component:ee})),r.a.createElement(n.Fragment,null,e)}}]),a}(n.Component),ha=Object(s.b)((function(e){return{user:e.auth.user,isFetchingAuth:e.auth.isFetching,isAuth:e.auth.isAuth}}),{isAuthenticated:function(){return function(){var e=Object(v.a)(b.a.mark((function e(t){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"REFRESH_AUTH"}),e.next=4,k.get("/auth");case 4:a=e.sent,t({type:"REFRESH_AUTH_SUCCESS",payload:a.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t({type:"REFRESH_AUTH_ERROR"});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()}})(ma),fa=a(2),Ea={isAuth:null,isFetching:null,user:null},ga=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ea,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_ACCOUNT":return Object(fa.a)(Object(fa.a)({},e),{},{isFetching:!0});case"CREATE_ACCOUNT_SUCCESS":return Object(fa.a)(Object(fa.a)({},e),{},{isFetching:!1,user:t.payload,isAuth:!0});case"CREATE_ACCOUNT_ERROR":return Object(fa.a)(Object(fa.a)({},e),{},{isFetching:null,user:null,isAuth:!1});case"SIGN_IN":return Object(fa.a)(Object(fa.a)({},e),{},{isFetching:!0});case"SIGN_IN_SUCCESS":return Object(fa.a)(Object(fa.a)({},e),{},{isFetching:!1,user:t.payload,isAuth:!0});case"SIGN_IN_ERROR":return Object(fa.a)(Object(fa.a)({},e),{},{isFetching:null,user:null,isAuth:!1});case"SIGN_OUT":return Object(fa.a)(Object(fa.a)({},e),{},{isFetching:!0});case"SIGN_OUT_ERROR":return Object(fa.a)(Object(fa.a)({},e),{},{isFetching:null});case"REFRESH_AUTH":return Object(fa.a)(Object(fa.a)({},e),{},{isFetching:!0,user:t.payload,isAuth:t.isAuth});case"REFRESH_AUTH_SUCCESS":return{isFetching:null,user:t.payload,isAuth:!0};case"REFRESH_AUTH_ERROR":return Object(fa.a)(Object(fa.a)({},e),{},{isFetching:null,user:null,isAuth:!1});case"UPDATE_USER_NODE":return Object(fa.a)(Object(fa.a)({},e),{},{isFetching:!0});case"UPDATE_USER_NODE_SUCCESS":return Object(fa.a)(Object(fa.a)({},e),{},{isFetching:null,user:t.user});case"UPDATE_USER_NODE_ERROR":return Object(fa.a)(Object(fa.a)({},e),{},{isFetching:null});case"UPDATE_USER_AVATAR":return Object(fa.a)(Object(fa.a)({},e),{},{isFetching:!0});case"UPDATE_USER_AVATAR_SUCCESS":return window.location.reload(),Object(fa.a)(Object(fa.a)({},e),{},{isFetching:null,user:Object(fa.a)(Object(fa.a)({},e.user),{},{avatar:t.url})});case"UPDATE_USER_NODE_ERROR":return Object(fa.a)(Object(fa.a)({},e),{},{isFetching:null});case"UPDATE_USER_HEADER":return Object(fa.a)(Object(fa.a)({},e),{},{isFetching:!0});case"UPDATE_USER_HEADER_SUCCESS":return window.location.reload(),Object(fa.a)(Object(fa.a)({},e),{},{isFetching:null,user:Object(fa.a)(Object(fa.a)({},e.user),{},{header:t.url})});case"UPDATE_USER_HEADER_ERROR":return Object(fa.a)(Object(fa.a)({},e),{},{isFetching:null});default:return e}},ya=a(40),ba={isFetching:null,isSaving:null,isDeleting:null,nodeList:[],totalItems:null,query:{page:1},activeNode:null},va=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ba,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_NODES":return Object(fa.a)(Object(fa.a)({},e),{},{isFetching:!0});case"FETCH_NODES_SUCCESS":var a;return a=t.query.page>e.query.page?Object(ya.a)(e.nodeList):[],Object.values(t.payload.nodes).forEach((function(e){a.some((function(t){return t.uuid===e.uuid}))||a.push(e)})),a.length>100&&a.splice(0,t.payload.nodes.length),Object(fa.a)(Object(fa.a)({},e),{},{isFetching:null,query:t.query,totalItems:t.payload.totalItems,nodeList:a});case"FETCH_NODES_ERROR":return Object(fa.a)(Object(fa.a)({},e),{},{isFetching:null});case"SEARCH_NODES":return Object(fa.a)(Object(fa.a)({},e),{},{isFetching:!0});case"SEARCH_NODES_SUCCESS":return a=[],Object.values(t.payload.nodes).forEach((function(e){a.some((function(t){return t.uuid===e.uuid}))||a.push(e)})),a.length>100&&a.splice(0,t.payload.nodes.length),Object(fa.a)(Object(fa.a)({},e),{},{isFetching:null,query:{page:1,type:t.query.type,searchQuery:t.query.searchQuery},totalItems:t.payload.totalItems,nodeList:a});case"SEARCH_NODES_ERROR":return Object(fa.a)(Object(fa.a)({},e),{},{isFetching:null});case"UPDATE_NODE":return Object(fa.a)(Object(fa.a)({},e),{},{isSaving:!0});case"UPDATE_NODE_ERROR":return Object(fa.a)(Object(fa.a)({},e),{},{isSaving:null});case"UPDATE_NODE_SUCCESS":return Object(fa.a)(Object(fa.a)({},e),{},{isSaving:null,nodeList:e.nodeList.map((function(e){return e.uuid===t.result.uuid&&(e=t.result),e}))});case"UPDATE_ACTIVE_NODE":return Object(fa.a)(Object(fa.a)({},e),{},{isSaving:!0});case"UPDATE_ACTIVE_NODE_ERROR":return Object(fa.a)(Object(fa.a)({},e),{},{isSaving:null});case"UPDATE_ACTIVE_NODE_SUCCESS":return Object(fa.a)(Object(fa.a)({},e),{},{isSaving:null,activeNode:t.result.uuid===e.activeNode.uuid?t.result:e.activeNode,nodeList:e.nodeList.map((function(e){return e.uuid===t.result.uuid&&(e=t.result),e}))});case"EDIT_TEXT_NODE":return Object(fa.a)(Object(fa.a)({},e),{},{isSaving:!0});case"EDIT_TEXT_NODE_SUCCESS":return Object(fa.a)(Object(fa.a)({},e),{},{isSaving:null,activeNode:Object(fa.a)(Object(fa.a)({},e.activeNode),{},{content:t.node.content})});case"EDIT_TEXT_NODE_ERROR":return Object(fa.a)(Object(fa.a)({},e),{},{isSaving:null});case"PROCESS_TEXT_NODE":return Object(fa.a)(Object(fa.a)({},e),{},{isSaving:!0});case"PROCESS_TEXT_NODE_SUCCESS":return Object(fa.a)(Object(fa.a)({},e),{},{isSaving:null,nodeList:e.nodeList.map((function(e){return e.uuid===t.node.uuid&&(e.preview=t.node.preview),e}))});case"PROCESS_TEXT_NODE_ERROR":return Object(fa.a)(Object(fa.a)({},e),{},{isSaving:null});case"CREATE_FILE_NODE":return Object(fa.a)(Object(fa.a)({},e),{},{isSaving:!0});case" CREATE_FILE_NODE_SUCCESS":return Object(fa.a)(Object(fa.a)({},e),{},{isFetching:null,nodeList:[t.payload].concat(Object(ya.a)(e.nodeList))});case"CREATE_FILE_NODE_ERROR":return Object(fa.a)(Object(fa.a)({},e),{},{isSaving:null});case"LINK_FILE_NODES":return Object(fa.a)(Object(fa.a)({},e),{},{isSaving:!0});case"LINK_FILE_NODES_SUCCESS":var n=[];return t.nodes.forEach((function(e){n.push(e)})),Object(fa.a)(Object(fa.a)({},e),{},{isSaving:null,nodeList:[].concat(n,Object(ya.a)(e.nodeList))});case"LINK_FILE_NODES_ERROR":return Object(fa.a)(Object(fa.a)({},e),{},{isSaving:null});case"CREATE_NODE":return Object(fa.a)(Object(fa.a)({},e),{},{isSaving:!0});case"CREATE_NODE_SUCCESS":return Object(fa.a)(Object(fa.a)({},e),{},{isFetching:null,nodeList:[t.payload].concat(Object(ya.a)(e.nodeList.filter((function(e){return e.uuid!==t.payload.uuid})))),activeNode:t.payload.node});case"CREATE_NODE_ERROR":return Object(fa.a)(Object(fa.a)({},e),{},{isSaving:null});case"MARK_NODE_VIEW":return Object(fa.a)(Object(fa.a)({},e),{},{isSaving:!0});case"MARK_NODE_VIEW_SUCCESS":var r;return r=e.nodeList.length<20?[t.node].concat(Object(ya.a)(e.nodeList.filter((function(e){return e.uuid!==t.node.uuid})))):Object(ya.a)(e.nodeList.filter((function(e){return e.uuid!==t.node.uuid}))),Object(fa.a)(Object(fa.a)({},e),{},{isSaving:null,nodeList:r});case"MARK_NODE_VIEW_ERROR":return Object(fa.a)(Object(fa.a)({},e),{},{isSaving:null});case"SET_ACTIVE_NODE":return Object(fa.a)(Object(fa.a)({},e),{},{isFetching:!0});case"SET_ACTIVE_NODE_SUCCESS":return Object(fa.a)(Object(fa.a)({},e),{},{isFetching:null,activeNode:t.payload.node});case"SET_ACTIVE_NODE_ERROR":return Object(fa.a)(Object(fa.a)({},e),{},{isFetching:null});case"CLEAR_ACTIVE_NODE":return Object(fa.a)(Object(fa.a)({},e),{},{activeNode:null});case"DELETE_NODE":return Object(fa.a)(Object(fa.a)({},e),{},{isDeleting:!0});case"DELETE_NODE_SUCCESS":return Object(fa.a)(Object(fa.a)({},e),{},{nodeList:Object(ya.a)(e.nodeList.filter((function(e){return e.uuid!==t.uuid}))),isDeleting:null});case"DELETE_NODE_ERROR":return Object(fa.a)(Object(fa.a)({},e),{},{isDeleting:null});case"GENERATE_EXPORT":return Object(fa.a)(Object(fa.a)({},e),{},{isSaving:!0});case"GENERATE_EXPORT_ERROR":case"GENERATE_EXPORT_SUCCESS":return Object(fa.a)(Object(fa.a)({},e),{},{isSaving:null});default:return e}},wa=a(67),Oa={componentList:{}},Sa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oa,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SHOW_COMPONENT":return Object(fa.a)(Object(fa.a)({},e),{},{componentList:Object(fa.a)(Object(fa.a)({},e.componentList),{},Object(wa.a)({},t.payload.type,{content:t.payload.content,visible:!0}))});case"HIDE_COMPONENT":return Object(fa.a)(Object(fa.a)({},e),{},{componentList:Object(fa.a)(Object(fa.a)({},e.componentList),{},Object(wa.a)({},t.payload.type,null))});default:return e}},Na={isFetching:null,isSaving:null,associationLinkList:[],associationList:[],totalLinkListItems:null,totalAssociationListItems:null,associationListPage:1,associationLinkListPage:1,activeNode:null},ka=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Na,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_ASSOCIATIONS_LINK_LIST":return Object(fa.a)(Object(fa.a)({},e),{},{isFetching:!0});case"FETCH_ASSOCIATIONS_LINK_LIST_SUCCESS":var a=Object(ya.a)(e.associationLinkList);return Object.values(t.payload.associations).forEach((function(e){a.some((function(t){return t.uuid===e.uuid}))||(a.push(e),a.length>100&&a.splice(0,30))})),Object(fa.a)(Object(fa.a)({},e),{},{isFetching:null,totalLinkListItems:t.payload.totalItems,associationLinkList:a,associationLinkListPage:t.page||1});case"FETCH_ASSOCIATIONS_LINK_LIST_ERROR":return Object(fa.a)(Object(fa.a)({},e),{},{isFetching:null});case"RESET_ASSOCIATION_LINK_LIST":return Object(fa.a)(Object(fa.a)({},e),{},{associationLinkList:[]});case"FETCH_ASSOCIATIONS":return Object(fa.a)(Object(fa.a)({},e),{},{isFetching:!0});case"FETCH_ASSOCIATIONS_SUCCESS":var n=Object(ya.a)(e.associationList);return Object.values(t.payload.associations).forEach((function(e){n.some((function(t){return t.uuid===e.uuid}))||(n.push(e),n.length>100&&n.splice(0,30))})),Object(fa.a)(Object(fa.a)({},e),{},{isFetching:null,totalAssociationListItems:t.payload.totalItems,associationList:n,associationListPage:t.page||1});case"FETCH_ASSOCIATIONS_ERROR":return Object(fa.a)(Object(fa.a)({},e),{},{isFetching:null});case"RESET_ASSOCIATIONS":return Object(fa.a)(Object(fa.a)({},e),{},{associationList:[]});case"CREATE_ASSOCIATION":return Object(fa.a)(Object(fa.a)({},e),{},{isSaving:!0});case"CREATE_ASSOCIATION_SUCCESS":return jt=!e.activeNode||t.associatedNode.uuid!==e.activeNode.uuid&&t.nodeUUID!==e.activeNode.uuid?Object(ya.a)(e.associationList):[t.associatedNode].concat(Object(ya.a)(e.associationList)),Object(fa.a)(Object(fa.a)({},e),{},{isFetching:null,associationLinkList:[t.associatedNode].concat(Object(ya.a)(e.associationLinkList)),associationList:jt,totalAssociationListItems:e.totalAssociationListItems+1});case"CREATE_ASSOCIATION_ERROR":return Object(fa.a)(Object(fa.a)({},e),{},{isSaving:null});case"MARK_NODE_VIEW":return Object(fa.a)(Object(fa.a)({},e),{},{isSaving:!0});case"MARK_NODE_VIEW_SUCCESS":var r=!!e.associationList.some((function(e){return e.uuid===t.node.uuid}))&&t.node;return jt=r?[e.associationList.some((function(e){return e.uuid===t.node.uuid}))?t.node:null].concat(Object(ya.a)(e.associationList.filter((function(e){return e.uuid!==t.node.uuid})))):Object(ya.a)(e.associationList),Object(fa.a)(Object(fa.a)({},e),{},{isFetching:null,associationList:jt});case"MARK_NODE_VIEW_ERROR":return Object(fa.a)(Object(fa.a)({},e),{},{isSaving:null});case"SET_ACTIVE_NODE":return Object(fa.a)(Object(fa.a)({},e),{},{isFetching:!0});case"SET_ACTIVE_NODE_SUCCESS":return Object(fa.a)(Object(fa.a)({},e),{},{isFetching:null,activeNode:t.payload.node});case"SET_ACTIVE_NODE_ERROR":return Object(fa.a)(Object(fa.a)({},e),{},{isFetching:null});case"DELETE_ASSOCIATION_LINK":return Object(fa.a)(Object(fa.a)({},e),{},{isSaving:!0});case"DELETE_ASSOCIATION_LINK_SUCCESS":var o=e.totalLinkListItems-1;return Object(fa.a)(Object(fa.a)({},e),{},{isSaving:null,associationLinkList:Object(ya.a)(e.associationLinkList.filter((function(e){return e.uuid!==t.deletedUUID}))),totalLinkListItems:o});case"DELETE_ASSOCIATION_LINK_ERROR":return Object(fa.a)(Object(fa.a)({},e),{},{isSaving:null});case"REMOVE_FROM_ASSOCIATION_LIST":var i=e.totalAssociationListItems-1;return Object(fa.a)(Object(fa.a)({},e),{},{isSaving:null,associationList:Object(ya.a)(e.associationList.filter((function(e){return e.uuid!==t.deletedUUID}))),totalAssociationListItems:i});default:return e}},Ca={isFetching:null,graphNodeList:[],graphAssociationList:[],totalItems:null,query:{page:1},activeNode:null,graphData:null},ja=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ca,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_GRAPH_DATA":return Object(fa.a)(Object(fa.a)({},e),{},{isFetching:!0});case"FETCH_GRAPH_DATA_ERROR":return Object(fa.a)(Object(fa.a)({},e),{},{isFetching:null});case"FETCH_GRAPH_DATA_SUCCESS":var a=[];t.payload.nodes.map((function(e){return a.push(e)}));var n=[];return t.payload.associations.map((function(e){var t={source:e.nodeId,target:e.linkedNode};return n.push(t)})),Object(fa.a)(Object(fa.a)({},e),{},{isFetching:null,graphData:{nodes:a,associations:n}});default:return e}},xa=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||c.c,_a=Object(c.d)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return"RESET_APP"===t.type&&(e={}),{auth:ga(e.auth,t),nodes:va(e.nodes,t),components:Sa(e.components,t),associations:ka(e.associations,t),graph:ja(e.graph,t)}}),xa(Object(c.a)(u.a)));i.a.render(r.a.createElement(s.a,{store:_a},r.a.createElement(l.b,{history:p},r.a.createElement(ha,null))),document.querySelector("#root"))},85:function(e,t,a){e.exports=a.p+"static/media/yarnpoint-logo.6ac38d56.png"},87:function(e,t,a){e.exports=a.p+"static/media/cloud9.22dc8cce.png"}},[[313,1,2]]]);
//# sourceMappingURL=main.eba4c992.chunk.js.map